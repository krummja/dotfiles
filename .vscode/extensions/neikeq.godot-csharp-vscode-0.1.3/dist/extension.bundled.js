module.exports=function(e){var t={};function r(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(s,i,function(t){return e[t]}.bind(null,i));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=24)}([function(e,t){e.exports=require("path")},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("util")},function(e,t){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof global&&global)||Function("return this")()},function(e,t,r){"use strict";const s=r(0),i={DOT_LITERAL:"\\.",PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:"\\/",ONE_CHAR:"(?=.)",QMARK:"[^/]",END_ANCHOR:"(?:\\/|$)",DOTS_SLASH:"\\.{1,2}(?:\\/|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|\\/)\\.{1,2}(?:\\/|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:\\/|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:\\/|$))",QMARK_NO_DOT:"[^.\\/]",STAR:"[^/]*?",START_ANCHOR:"(?:^|\\/)"},n={...i,SLASH_LITERAL:"[\\\\/]",QMARK:"[^\\\\/]",STAR:"[^\\\\/]*?",DOTS_SLASH:"\\.{1,2}(?:[\\\\/]|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|[\\\\/])\\.{1,2}(?:[\\\\/]|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:[\\\\/]|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:[\\\\/]|$))",QMARK_NO_DOT:"[^.\\\\/]",START_ANCHOR:"(?:^|[\\\\/])",END_ANCHOR:"(?:[\\\\/]|$)"};e.exports={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:{alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:s.sep,extglobChars:e=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:e=>!0===e?n:i}},function(e,t,r){"use strict";const s=r(0),i="win32"===process.platform,{REGEX_BACKSLASH:n,REGEX_REMOVE_BACKSLASH:o,REGEX_SPECIAL_CHARS:a,REGEX_SPECIAL_CHARS_GLOBAL:l}=r(4);t.isObject=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),t.hasRegexChars=e=>a.test(e),t.isRegexChar=e=>1===e.length&&t.hasRegexChars(e),t.escapeRegex=e=>e.replace(l,"\\$1"),t.toPosixSlashes=e=>e.replace(n,"/"),t.removeBackslashes=e=>e.replace(o,e=>"\\"===e?"":e),t.supportsLookbehinds=()=>{const e=process.version.slice(1).split(".").map(Number);return 3===e.length&&e[0]>=9||8===e[0]&&e[1]>=10},t.isWindows=e=>e&&"boolean"==typeof e.windows?e.windows:!0===i||"\\"===s.sep,t.escapeLast=(e,r,s)=>{const i=e.lastIndexOf(r,s);return-1===i?e:"\\"===e[i-1]?t.escapeLast(e,r,i-1):`${e.slice(0,i)}\\${e.slice(i)}`},t.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r},t.wrapOutput=(e,t={},r={})=>{let s=`${r.contains?"":"^"}(?:${e})${r.contains?"":"$"}`;return!0===t.negated&&(s=`(?:^(?!${s}).*$)`),s}},function(e,t,r){"use strict";const s=r(7);e.exports=(e,t={})=>{let r=(e,i={})=>{let n=t.escapeInvalid&&s.isInvalidBrace(i),o=!0===e.invalid&&!0===t.escapeInvalid,a="";if(e.value)return(n||o)&&s.isOpenOrClose(e)?"\\"+e.value:e.value;if(e.value)return e.value;if(e.nodes)for(let t of e.nodes)a+=r(t);return a};return r(e)}},function(e,t,r){"use strict";t.isInteger=e=>"number"==typeof e?Number.isInteger(e):"string"==typeof e&&""!==e.trim()&&Number.isInteger(Number(e)),t.find=(e,t)=>e.nodes.find(e=>e.type===t),t.exceedsLimit=(e,r,s=1,i)=>!1!==i&&(!(!t.isInteger(e)||!t.isInteger(r))&&(Number(r)-Number(e))/Number(s)>=i),t.escapeNode=(e,t=0,r)=>{let s=e.nodes[t];s&&(r&&s.type===r||"open"===s.type||"close"===s.type)&&!0!==s.escaped&&(s.value="\\"+s.value,s.escaped=!0)},t.encloseBrace=e=>"brace"===e.type&&(e.commas>>0+e.ranges>>0==0&&(e.invalid=!0,!0)),t.isInvalidBrace=e=>"brace"===e.type&&(!(!0!==e.invalid&&!e.dollar)||(e.commas>>0+e.ranges>>0==0||!0!==e.open||!0!==e.close)&&(e.invalid=!0,!0)),t.isOpenOrClose=e=>"open"===e.type||"close"===e.type||(!0===e.open||!0===e.close),t.reduce=e=>e.reduce((e,t)=>("text"===t.type&&e.push(t.value),"range"===t.type&&(t.type="text"),e),[]),t.flatten=(...e)=>{const t=[],r=e=>{for(let s=0;s<e.length;s++){let i=e[s];Array.isArray(i)?r(i,t):void 0!==i&&t.push(i)}return t};return r(e),t}},function(e,t,r){"use strict";const{sep:s}=r(0),{platform:i}=process;t.EV_ALL="all",t.EV_READY="ready",t.EV_ADD="add",t.EV_CHANGE="change",t.EV_ADD_DIR="addDir",t.EV_UNLINK="unlink",t.EV_UNLINK_DIR="unlinkDir",t.EV_RAW="raw",t.EV_ERROR="error",t.STR_DATA="data",t.STR_END="end",t.STR_CLOSE="close",t.FSEVENT_CREATED="created",t.FSEVENT_MODIFIED="modified",t.FSEVENT_DELETED="deleted",t.FSEVENT_MOVED="moved",t.FSEVENT_CLONED="cloned",t.FSEVENT_UNKNOWN="unknown",t.FSEVENT_TYPE_FILE="file",t.FSEVENT_TYPE_DIRECTORY="directory",t.FSEVENT_TYPE_SYMLINK="symlink",t.KEY_LISTENERS="listeners",t.KEY_ERR="errHandlers",t.KEY_RAW="rawEmitters",t.HANDLER_KEYS=[t.KEY_LISTENERS,t.KEY_ERR,t.KEY_RAW],t.DOT_SLASH="."+s,t.BACK_SLASH_RE=/\\/g,t.DOUBLE_SLASH_RE=/\/\//,t.SLASH_OR_BACK_SLASH_RE=/[/\\]/,t.DOT_RE=/\..*\.(sw[px])$|~$|\.subl.*\.tmp/,t.REPLACER_RE=/^\.[/\\]/,t.SLASH="/",t.BRACE_START="{",t.BANG="!",t.ONE_DOT=".",t.TWO_DOTS="..",t.STAR="*",t.GLOBSTAR="**",t.ROOT_GLOBSTAR="/**/*",t.SLASH_GLOBSTAR="/**",t.DIR_SUFFIX="Dir",t.ANYMATCH_OPTS={dot:!0},t.STRING_TYPE="string",t.FUNCTION_TYPE="function",t.EMPTY_STR="",t.EMPTY_FN=()=>{},t.IDENTITY_FN=e=>e,t.isWindows="win32"===i,t.isMacos="darwin"===i},function(e,t,r){var s=r(10);e.exports=!s((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=require("vscode")},function(e,t,r){"use strict";var s=this&&this.__awaiter||function(e,t,r,s){return new(r||(r=Promise))((function(i,n){function o(e){try{l(s.next(e))}catch(e){n(e)}}function a(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(1),n=r(0),o=r(25),a=r(48);function l(e){return s(this,void 0,void 0,(function*(){return new Promise(t=>{setTimeout(t,e)})}))}class c extends a.default{constructor(){super(),this.buffer="",this.setEncoding("utf-8")}readLine(){return s(this,void 0,void 0,(function*(){let e;do{void 0!==e&&(e instanceof Buffer?this.buffer+=e.toString("utf-8"):this.buffer+=e);let t=this.buffer.indexOf("\n");if(t>=0){let e=0!==t&&"\r"===this.buffer.charAt(t-1),r=this.buffer.substring(0,e?t-1:t);return this.buffer=this.buffer.substring(t+1),r}}while(void 0!==(e=yield this.read()))}))}writeLine(e){return s(this,void 0,void 0,(function*(){return yield this.write(e+"\n","utf-8")}))}}class u{constructor(e,t,r,s){this.isConnected=!1,this.requestAwaiterQueues=new Map,this.socket=e,this.handshake=t,this.messageHandler=r,this.logger=s}dispose(){var e;null===(e=this.socket)||void 0===e||e.destroy()}process(){return s(this,void 0,void 0,(function*(){let e,t=new E;for(;void 0!==(e=yield this.socket.readLine());){let[r,s]=t.decode(e);if(r!==g.Decoding)if(r!==g.Errored&&void 0!==s)if(this.logger.logDebug("Received message: "+s.toString()),s.kind===p.Request){let e=yield this.messageHandler.handleRequest(this,s.id,s.content,this.logger);yield this.writeMessage(new f(p.Response,s.id,e))}else{if(s.kind!==p.Response)return void this.logger.logError("Invalid message kind "+p[s.kind]);{let e,t=this.requestAwaiterQueues.get(s.id);if(void 0===t||void 0===(e=t.shift()))return void this.logger.logError("Received unexpected response: "+s.id);e(s.content)}}else this.logger.logError("Received message line with invalid format: "+e)}this.isConnected=!1}))}doHandshake(e){return s(this,void 0,void 0,(function*(){if(0===(yield this.socket.writeLine(this.handshake.getHandshakeLine(e))))return this.logger.logError("Could not write handshake"),!1;let t=!1,r=(()=>s(this,void 0,void 0,(function*(){let e=yield this.socket.readLine();return t=!0,e})))(),i=yield Promise.race([r,l(8e3)]);if(!t||void 0===i||"string"!=typeof i)return this.logger.logError("Timeout waiting for the client handshake"),!1;let n=i,[o,a]=this.handshake.isValidPeerHandshake(n,this.logger);return o&&void 0!==a?(this.remoteIdentity=a,this.isConnected=!0,this.logger.logInfo("Peer connection started"),!0):(this.logger.logError("Received invalid handshake: "+n),!1)}))}writeMessage(e){var t,r;return s(this,void 0,void 0,(function*(){this.logger.logDebug("Sending message: "+e.toString());let s=null!==(r=null===(t=e.content.body.match(/[^\n]*\n[^\n]*/gi))||void 0===t?void 0:t.length)&&void 0!==r?r:0;s+=1;let i="";return i+=p[e.kind]+"\n",i+=e.id+"\n",i+=_[e.content.status]+"\n",i+=s+"\n",i+=e.content.body+"\n",yield this.socket.writeLine(i)}))}sendRequest(e,t){return s(this,void 0,void 0,(function*(){let r,s=new f(p.Request,e,new m(_.Ok,t));if((yield this.writeMessage(s))>0)return new Promise(t=>{let s=this.requestAwaiterQueues.get(e);void 0===s&&(s=[],this.requestAwaiterQueues.set(e,s)),r=e=>{t(e)},s.push(r)})}))}}t.Peer=u,u.protocolVersionMajor=1,u.protocolVersionMinor=1,u.protocolVersionRevision=0,u.clientHandshakeName="GodotIdeClient",u.serverHandshakeName="GodotIdeServer";t.Client=class{constructor(e,t,r,s){this.isDisposed=!1,this.identity=e,this.messageHandler=r,this.logger=s,this.projectMetadataDir=n.join(t,".mono","metadata"),this.metaFilePath=n.join(this.projectMetadataDir,h.defaultFileName)}isConnected(){return!this.isDisposed&&void 0!==this.peer&&this.peer.isConnected}dispose(){var e,t;this.isDisposed=!0,null===(e=this.fsWatcher)||void 0===e||e.close(),null===(t=this.peer)||void 0===t||t.dispose()}start(){if(this.startWatching(),this.isDisposed||this.isConnected())return;if(!i.existsSync(this.metaFilePath))return void this.logger.logInfo("There is no Godot Ide Server running");if(!this.metaFileModifiedTimeChanged())return;const e=this.readMetadataFile();void 0!==e&&e!==this.metadata&&(this.metadata=e,this.connectToServer())}connectToServer(){var e;return s(this,void 0,void 0,(function*(){if(void 0!==this.peer&&this.peer.isConnected)return void this.logger.logError("Attempted to connect to Godot Ide Server again when already connected");let t=3;for(;t-- >0;){t<2&&(this.logger.logInfo(`Waiting 3 seconds... (${t+1} attempts left)`),yield l(5e3));const r=new c;this.logger.logInfo("Connecting to Godot Ide Server");try{yield r.connect(this.metadata.port,"localhost")}catch(e){this.logger.logError("Failed to connect to Godot Ide Server",e);continue}if(this.logger.logInfo("Connection open with Godot Ide Server"),null===(e=this.peer)||void 0===e||e.dispose(),this.peer=new u(r,new d,this.messageHandler,this.logger),yield this.peer.doHandshake(this.identity))return yield this.peer.process(),void this.logger.logInfo("Connection closed with Ide Client");this.logger.logError("Handshake failed"),this.peer.dispose()}this.logger.logInfo("Failed to connect to Godot Ide Server after 3 attempts")}))}startWatching(){this.fsWatcher=o.watch(this.metaFilePath),this.fsWatcher.on("add",e=>this.onMetaFileChanged()),this.fsWatcher.on("change",e=>this.onMetaFileChanged()),this.fsWatcher.on("unlink",e=>this.onMetaFileDeleted())}metaFileModifiedTimeChanged(){const e=i.statSync(this.metaFilePath);return(void 0===this.metaFileModifiedTime||e.mtime.valueOf()!==this.metaFileModifiedTime.valueOf())&&(this.metaFileModifiedTime=e.mtime,!0)}onMetaFileChanged(){if(this.isDisposed)return;if(!i.existsSync(this.metaFilePath))return;if(!this.metaFileModifiedTimeChanged())return;const e=this.readMetadataFile();void 0!==e&&e!==this.metadata&&(this.metadata=e,this.connectToServer())}onMetaFileDeleted(){if(this.isConnected()||!i.existsSync(this.metaFilePath))return;const e=this.readMetadataFile();void 0!==e&&(this.metadata=e,this.connectToServer())}readMetadataFile(){const e=i.readFileSync(this.metaFilePath).toString("utf-8").split("\n");if(e.length<2)return;const t=parseInt(e[0]),r=e[1];return isNaN(t)?void 0:new h(t,r)}};class h{constructor(e,t){this.port=e,this.editorExecutablePath=t}equals(e){return this.port===e.port&&this.editorExecutablePath===e.editorExecutablePath}}h.defaultFileName="ide_messaging_meta.txt";class d{constructor(){this.clientHandshakeBase=`${u.clientHandshakeName},Version=${u.protocolVersionMajor}.${u.protocolVersionMinor}.${u.protocolVersionRevision}`,this.serverHandshakePattern=new RegExp(u.serverHandshakeName.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+/,Version=([0-9]+)\.([0-9]+)\.([0-9]+),([_a-zA-Z][_a-zA-Z0-9]{0,63})/.source)}getHandshakeLine(e){return`${this.clientHandshakeBase},${e}`}isValidPeerHandshake(e,t){let r=this.serverHandshakePattern.exec(e);if(null===r)return[!1,void 0];let s=parseInt(r[1],10);if(isNaN(s)||u.protocolVersionMajor!==s)return t.logDebug("Incompatible major version: "+r[1]),[!1,void 0];let i=parseInt(r[2],10);if(isNaN(i)||u.protocolVersionMinor<i)return t.logDebug("Incompatible minor version: "+r[2]),[!1,void 0];let n=parseInt(r[3],10);return isNaN(n)?(t.logDebug("Incompatible revision build: "+r[3]),[!1,void 0]):[!0,r[4]]}}class f{constructor(e,t,r){this.kind=e,this.id=t,this.content=r}toString(){return`${this.kind} | ${this.id}`}}var p,_,g;!function(e){e[e.Request=0]="Request",e[e.Response=1]="Response"}(p||(p={})),function(e){e[e.Ok=0]="Ok",e[e.RequestNotSupported=1]="RequestNotSupported",e[e.InvalidRequestBody=2]="InvalidRequestBody"}(_=t.MessageStatus||(t.MessageStatus={}));class m{constructor(e,t){this.status=e,this.body=t}}t.MessageContent=m;class v{constructor(){this.body=""}clear(){this.kind=void 0,this.id=void 0,this.status=void 0,this.body="",this.pendingBodyLines=void 0}toMessage(){if(!(void 0===this.kind||void 0===this.id||void 0===this.status||void 0===this.pendingBodyLines||this.pendingBodyLines>0))return new f(this.kind,this.id,new m(this.status,this.body))}}function y(e,t){let r=Object.keys(e).find(e=>e.toLowerCase()===t.toLowerCase());if(void 0!==r)return e[r]}!function(e){e[e.Decoding=0]="Decoding",e[e.Decoded=1]="Decoded",e[e.Errored=2]="Errored"}(g||(g={}));class E{constructor(){this.decodingMessage=new v}decode(e){if(void 0===this.decodingMessage.kind){let t=y(p,e);if(void 0===t)return this.decodingMessage.clear(),[g.Errored,void 0];this.decodingMessage.kind=t}else if(void 0===this.decodingMessage.id)this.decodingMessage.id=e;else if(void 0===this.decodingMessage.status){let t=y(_,e);if(void 0===t)return this.decodingMessage.clear(),[g.Errored,void 0];this.decodingMessage.status=t}else if(void 0===this.decodingMessage.pendingBodyLines){let t=parseInt(e);if(isNaN(t))return this.decodingMessage.clear(),[g.Errored,void 0];this.decodingMessage.pendingBodyLines=t}else{if(!(this.decodingMessage.pendingBodyLines>0)){let e=this.decodingMessage.toMessage();return this.decodingMessage.clear(),[g.Decoded,e]}this.decodingMessage.body+=e+"\n",this.decodingMessage.pendingBodyLines-=1}return[g.Decoding,void 0]}}},function(e,t,r){"use strict";e.exports=r(29)},function(e,t){
/*!
 * normalize-path <https://github.com/jonschlinkert/normalize-path>
 *
 * Copyright (c) 2014-2018, Jon Schlinkert.
 * Released under the MIT License.
 */
e.exports=function(e,t){if("string"!=typeof e)throw new TypeError("expected path to be a string");if("\\"===e||"/"===e)return"/";var r=e.length;if(r<=1)return e;var s="";if(r>4&&"\\"===e[3]){var i=e[2];"?"!==i&&"."!==i||"\\\\"!==e.slice(0,2)||(e=e.slice(2),s="//")}var n=e.split(/[/\\]+/);return!1!==t&&""===n[n.length-1]&&n.pop(),s+n.join("/")}},function(e,t,r){
/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
var s=r(34),i={"{":"}","(":")","[":"]"},n=/\\(.)|(^!|\*|[\].+)]\?|\[[^\\\]]+\]|\{[^\\}]+\}|\(\?[:!=][^\\)]+\)|\([^|]+\|[^\\)]+\))/,o=/\\(.)|(^!|[*?{}()[\]]|\(\?)/;e.exports=function(e,t){if("string"!=typeof e||""===e)return!1;if(s(e))return!0;var r,a=n;for(t&&!1===t.strict&&(a=o);r=a.exec(e);){if(r[2])return!0;var l=r.index+r[0].length,c=r[1],u=c?i[c]:null;if(c&&u){var h=e.indexOf(u,l);-1!==h&&(l=h+1)}e=e.slice(l)}return!1}},function(e,t,r){"use strict";
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const s=r(2),i=r(38),n=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),o=e=>"number"==typeof e||"string"==typeof e&&""!==e,a=e=>Number.isInteger(+e),l=e=>{let t=""+e,r=-1;if("-"===t[0]&&(t=t.slice(1)),"0"===t)return!1;for(;"0"===t[++r];);return r>0},c=(e,t,r)=>{if(t>0){let r="-"===e[0]?"-":"";r&&(e=e.slice(1)),e=r+e.padStart(r?t-1:t,"0")}return!1===r?String(e):e},u=(e,t)=>{let r="-"===e[0]?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},h=(e,t,r,s)=>{if(r)return i(e,t,{wrap:!1,...s});let n=String.fromCharCode(e);return e===t?n:`[${n}-${String.fromCharCode(t)}]`},d=(e,t,r)=>{if(Array.isArray(e)){let t=!0===r.wrap,s=r.capture?"":"?:";return t?`(${s}${e.join("|")})`:e.join("|")}return i(e,t,r)},f=(...e)=>new RangeError("Invalid range arguments: "+s.inspect(...e)),p=(e,t,r)=>{if(!0===r.strictRanges)throw f([e,t]);return[]},_=(e,t,r=1,s={})=>{let i=Number(e),n=Number(t);if(!Number.isInteger(i)||!Number.isInteger(n)){if(!0===s.strictRanges)throw f([e,t]);return[]}0===i&&(i=0),0===n&&(n=0);let o=i>n,a=String(e),p=String(t),_=String(r);r=Math.max(Math.abs(r),1);let g=l(a)||l(p)||l(_),m=g?Math.max(a.length,p.length,_.length):0,v=!1===g&&!1===((e,t,r)=>"string"==typeof e||"string"==typeof t||!0===r.stringify)(e,t,s),y=s.transform||(e=>t=>!0===e?Number(t):String(t))(v);if(s.toRegex&&1===r)return h(u(e,m),u(t,m),!0,s);let E={negatives:[],positives:[]},w=[],b=0;for(;o?i>=n:i<=n;)!0===s.toRegex&&r>1?E[(R=i)<0?"negatives":"positives"].push(Math.abs(R)):w.push(c(y(i,b),m,v)),i=o?i-r:i+r,b++;var R;return!0===s.toRegex?r>1?((e,t)=>{e.negatives.sort((e,t)=>e<t?-1:e>t?1:0),e.positives.sort((e,t)=>e<t?-1:e>t?1:0);let r,s=t.capture?"":"?:",i="",n="";return e.positives.length&&(i=e.positives.join("|")),e.negatives.length&&(n=`-(${s}${e.negatives.join("|")})`),r=i&&n?`${i}|${n}`:i||n,t.wrap?`(${s}${r})`:r})(E,s):d(w,null,{wrap:!1,...s}):w},g=(e,t,r,s={})=>{if(null==t&&o(e))return[e];if(!o(e)||!o(t))return p(e,t,s);if("function"==typeof r)return g(e,t,1,{transform:r});if(n(r))return g(e,t,0,r);let i={...s};return!0===i.capture&&(i.wrap=!0),r=r||i.step||1,a(r)?a(e)&&a(t)?_(e,t,r,i):((e,t,r=1,s={})=>{if(!a(e)&&e.length>1||!a(t)&&t.length>1)return p(e,t,s);let i=s.transform||(e=>String.fromCharCode(e)),n=(""+e).charCodeAt(0),o=(""+t).charCodeAt(0),l=n>o,c=Math.min(n,o),u=Math.max(n,o);if(s.toRegex&&1===r)return h(c,u,!1,s);let f=[],_=0;for(;l?n>=o:n<=o;)f.push(i(n,_)),n=l?n-r:n+r,_++;return!0===s.toRegex?d(f,null,{wrap:!1,options:s}):f})(e,t,Math.max(Math.abs(r),1),i):null==r||n(r)?g(e,t,1,r):((e,t)=>{if(!0===t.strictRanges)throw new TypeError(`Expected step "${e}" to be a number`);return[]})(r,i)};e.exports=g},function(e,t,r){r(52)("asyncIterator")},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var s=r(9),i=r(61),n=r(63),o=r(64),a=Object.defineProperty;t.f=s?a:function(e,t,r){if(n(e),t=o(t,!0),n(r),i)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var s=r(10);e.exports=!!Object.getOwnPropertySymbols&&!s((function(){return!String(Symbol())}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s extends Error{constructor(){super("Timeout")}}t.TimeoutError=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fixPathForGodot=function(e){if("win32"===process.platform&&e&&":"===e.charAt(1)){let t=e[0],r=t.toUpperCase();r!==t&&(e=r+e.substr(1))}return e}},function(e,t,r){"use strict";var s=this&&this.__awaiter||function(e,t,r,s){return new(r||(r=Promise))((function(i,n){function o(e){try{l(s.next(e))}catch(e){n(e)}}function a(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(12),n=r(13),o=r(70),a=r(23),l=r(0),c=r(1);let u;class h{logDebug(e){console.debug(e)}logInfo(e){console.info(e)}logWarning(e){console.warn(e)}logError(e,t){console.error(e,t)}}class d{constructor(){this.requestHandlers=new Map,this.requestHandlers.set("OpenFile",this.handleOpenFile)}handleRequest(e,t,r,i){return s(this,void 0,void 0,(function*(){let s=this.requestHandlers.get(t);if(void 0===s)return i.logError("Received unknown request: "+t),new n.MessageContent(n.MessageStatus.RequestNotSupported,"null");let o=yield s(e,r);return new n.MessageContent(o.status,JSON.stringify(o))}))}handleOpenFile(e,t){return s(this,void 0,void 0,(function*(){let e=JSON.parse(t.body),r=e.File,s=e.Line,o=e.Column;if(void 0===r)return new n.MessageContent(n.MessageStatus.InvalidRequestBody,"null");let a=i.Uri.parse(r);return i.workspace.openTextDocument(a).then(e=>{if(i.window.showTextDocument(e),void 0!==s){s-=1,void 0!==o&&(o-=1);let e=i.window.activeTextEditor;if(void 0!==e){let t=e.selection.active.with(s,o),r=new i.Range(t,t);e.selection=new i.Selection(r.start,r.end),e.revealRange(r)}}}),new n.MessageContent(n.MessageStatus.Ok,"{}")}))}}t.activate=function(e){var t,r;let s=null===(r=null===(t=i.workspace.workspaceFolders)||void 0===t?void 0:t.find(e=>{let t=e.uri.fsPath,r=l.join(t,"project.godot");return c.existsSync(r)}))||void 0===r?void 0:r.uri.fsPath;if(void 0===s)return;s=a.fixPathForGodot(s),u=new n.Client("VisualStudioCode",s,new d,new h),u.start();const p=i.debug.registerDebugConfigurationProvider("godot-mono",new f),_=i.languages.registerCompletionItemProvider("csharp",new o.GodotCompletionProvider(u),"(",'"',","," ");e.subscriptions.push(p,_)},t.deactivate=function(){u.dispose()};class f{resolveDebugConfiguration(e,t,r){return s(this,void 0,void 0,(function*(){return t.__exceptionOptions||(t.__exceptionOptions=function(e){const t=[];for(let r in e)t.push({path:[{names:[r]}],breakMode:e[r]});return t}(function(){let e=_;if(p){const t=p.get("exceptionOptions");t&&(e=t)}return e}())),void 0!==e&&(t.godotProjectDir=e.uri.fsPath),t}))}}const p=i.workspace.getConfiguration("mono-debug"),_={"System.Exception":"never","System.SystemException":"never","System.ArithmeticException":"never","System.ArrayTypeMismatchException":"never","System.DivideByZeroException":"never","System.IndexOutOfRangeException":"never","System.InvalidCastException":"never","System.NullReferenceException":"never","System.OutOfMemoryException":"never","System.OverflowException":"never","System.StackOverflowException":"never","System.TypeInitializationException":"never"}},function(e,t,r){"use strict";const{EventEmitter:s}=r(26),i=r(1),n=r(0),{promisify:o}=r(2),a=r(27),l=r(32).default,c=r(33),u=r(16),h=r(36),d=r(15),f=r(43),p=r(47),{EV_ALL:_,EV_READY:g,EV_ADD:m,EV_CHANGE:v,EV_UNLINK:y,EV_ADD_DIR:E,EV_UNLINK_DIR:w,EV_RAW:b,EV_ERROR:R,STR_CLOSE:A,STR_END:S,BACK_SLASH_RE:x,DOUBLE_SLASH_RE:C,SLASH_OR_BACK_SLASH_RE:T,DOT_RE:P,REPLACER_RE:O,SLASH:H,BRACE_START:L,BANG:I,ONE_DOT:k,TWO_DOTS:N,GLOBSTAR:D,SLASH_GLOBSTAR:M,ANYMATCH_OPTS:F,STRING_TYPE:$,FUNCTION_TYPE:W,EMPTY_STR:G,EMPTY_FN:B,isWindows:j,isMacos:U}=r(8),K=o(i.stat),V=o(i.readdir),q=(e=[])=>Array.isArray(e)?e:[e],Y=(e,t=[])=>(e.forEach(e=>{Array.isArray(e)?Y(e,t):t.push(e)}),t),z=e=>{const t=Y(q(e));if(!t.every(e=>typeof e===$))throw new TypeError("Non-string provided as watch path: "+t);return t.map(X)},Q=e=>{let t=e.replace(x,H);for(;t.match(C);)t=t.replace(C,H);return t},X=e=>Q(n.normalize(Q(e))),Z=(e=G)=>t=>typeof t!==$?t:X(n.isAbsolute(t)?t:n.join(e,t)),J=(e,t)=>void 0===e[t];class ee{constructor(e,t){this.path=e,this._removeWatcher=t,this.items=new Set}add(e){const{items:t}=this;t&&e!==k&&e!==N&&t.add(e)}async remove(e){const{items:t}=this;if(!t)return;if(t.delete(e),t.size>0)return;const r=this.path;try{await V(r)}catch(e){this._removeWatcher&&this._removeWatcher(n.dirname(r),n.basename(r))}}has(e){const{items:t}=this;if(t)return t.has(e)}getChildren(){const{items:e}=this;if(e)return[...e.values()]}dispose(){this.items.clear(),delete this.path,delete this._removeWatcher,delete this.items,Object.freeze(this)}}class te{constructor(e,t,r,s){this.fsw=s,this.path=e=e.replace(O,G),this.watchPath=t,this.fullWatchPath=n.resolve(t),this.hasGlob=t!==e,e===G&&(this.hasGlob=!1),this.globSymlink=!(!this.hasGlob||!r)&&void 0,this.globFilter=!!this.hasGlob&&l(e,void 0,F),this.dirParts=this.getDirParts(e),this.dirParts.forEach(e=>{e.length>1&&e.pop()}),this.followSymlinks=r,this.statMethod=r?"stat":"lstat"}checkGlobSymlink(e){return void 0===this.globSymlink&&(this.globSymlink=e.fullParentDir!==this.fullWatchPath&&{realPath:e.fullParentDir,linkPath:this.fullWatchPath}),this.globSymlink?e.fullPath.replace(this.globSymlink.realPath,this.globSymlink.linkPath):e.fullPath}entryPath(e){return n.join(this.watchPath,n.relative(this.watchPath,this.checkGlobSymlink(e)))}filterPath(e){const{stats:t}=e;if(t&&t.isSymbolicLink())return this.filterDir(e);const r=this.entryPath(e);return(!this.hasGlob||typeof this.globFilter!==W||this.globFilter(r))&&this.fsw._isntIgnored(r,t)&&this.fsw._hasReadPermissions(t)}getDirParts(e){if(!this.hasGlob)return[];const t=[];return(e.includes(L)?h.expand(e):[e]).forEach(e=>{t.push(n.relative(this.watchPath,e).split(T))}),t}filterDir(e){if(this.hasGlob){const t=this.getDirParts(this.checkGlobSymlink(e));let r=!1;this.unmatchedGlob=!this.dirParts.some(e=>e.every((e,s)=>(e===D&&(r=!0),r||!t[0][s]||l(e,t[0][s],F))))}return!this.unmatchedGlob&&this.fsw._isntIgnored(this.entryPath(e),e.stats)}}class re extends s{constructor(e){super();const t={};e&&Object.assign(t,e),this._watched=new Map,this._closers=new Map,this._ignoredPaths=new Set,this._throttled=new Map,this._symlinkPaths=new Map,this._streams=new Set,this.closed=!1,J(t,"persistent")&&(t.persistent=!0),J(t,"ignoreInitial")&&(t.ignoreInitial=!1),J(t,"ignorePermissionErrors")&&(t.ignorePermissionErrors=!1),J(t,"interval")&&(t.interval=100),J(t,"binaryInterval")&&(t.binaryInterval=300),J(t,"disableGlobbing")&&(t.disableGlobbing=!1),t.enableBinaryInterval=t.binaryInterval!==t.interval,J(t,"useFsEvents")&&(t.useFsEvents=!t.usePolling),p.canUse()||(t.useFsEvents=!1),J(t,"usePolling")&&!t.useFsEvents&&(t.usePolling=U);const r=process.env.CHOKIDAR_USEPOLLING;if(void 0!==r){const e=r.toLowerCase();t.usePolling="false"!==e&&"0"!==e&&("true"===e||"1"===e||!!e)}const s=process.env.CHOKIDAR_INTERVAL;s&&(t.interval=Number.parseInt(s,10)),J(t,"atomic")&&(t.atomic=!t.usePolling&&!t.useFsEvents),t.atomic&&(this._pendingUnlinks=new Map),J(t,"followSymlinks")&&(t.followSymlinks=!0),J(t,"awaitWriteFinish")&&(t.awaitWriteFinish=!1),!0===t.awaitWriteFinish&&(t.awaitWriteFinish={});const i=t.awaitWriteFinish;i&&(i.stabilityThreshold||(i.stabilityThreshold=2e3),i.pollInterval||(i.pollInterval=100),this._pendingWrites=new Map),t.ignored&&(t.ignored=q(t.ignored));let n=0;this._emitReady=()=>{n++,n>=this._readyCount&&(this._emitReady=B,this._readyEmitted=!0,process.nextTick(()=>this.emit(g)))},this._emitRaw=(...e)=>this.emit(b,...e),this._readyEmitted=!1,this.options=t,t.useFsEvents?this._fsEventsHandler=new p(this):this._nodeFsHandler=new f(this),Object.freeze(t)}add(e,t,r){const{cwd:s,disableGlobbing:i}=this.options;this.closed=!1;let o=z(e);return s&&(o=o.map(e=>{const t=((e,t)=>n.isAbsolute(e)?e:e.startsWith(I)?I+n.join(t,e.slice(1)):n.join(t,e))(e,s);return i||!u(e)?t:d(t)})),o=o.filter(e=>e.startsWith(I)?(this._ignoredPaths.add(e.slice(1)),!1):(this._ignoredPaths.delete(e),this._ignoredPaths.delete(e+M),this._userIgnored=void 0,!0)),this.options.useFsEvents&&this._fsEventsHandler?(this._readyCount||(this._readyCount=o.length),this.options.persistent&&(this._readyCount*=2),o.forEach(e=>this._fsEventsHandler._addToFsEvents(e))):(this._readyCount||(this._readyCount=0),this._readyCount+=o.length,Promise.all(o.map(async e=>{const s=await this._nodeFsHandler._addToNodeFs(e,!r,0,0,t);return s&&this._emitReady(),s})).then(e=>{this.closed||e.filter(e=>e).forEach(e=>{this.add(n.dirname(e),n.basename(t||e))})})),this}unwatch(e){if(this.closed)return this;const t=z(e),{cwd:r}=this.options;return t.forEach(e=>{n.isAbsolute(e)||this._closers.has(e)||(r&&(e=n.join(r,e)),e=n.resolve(e)),this._closePath(e),this._ignoredPaths.add(e),this._watched.has(e)&&this._ignoredPaths.add(e+M),this._userIgnored=void 0}),this}close(){if(this.closed)return this._closePromise;this.closed=!0,this.removeAllListeners();const e=[];return this._closers.forEach(t=>t.forEach(t=>{const r=t();r instanceof Promise&&e.push(r)})),this._streams.forEach(e=>e.destroy()),this._userIgnored=void 0,this._readyCount=0,this._readyEmitted=!1,this._watched.forEach(e=>e.dispose()),["closers","watched","streams","symlinkPaths","throttled"].forEach(e=>{this["_"+e].clear()}),this._closePromise=e.length?Promise.all(e).then(()=>{}):Promise.resolve(),this._closePromise}getWatched(){const e={};return this._watched.forEach((t,r)=>{const s=this.options.cwd?n.relative(this.options.cwd,r):r;e[s||k]=t.getChildren().sort()}),e}emitWithAll(e,t){this.emit(...t),e!==R&&this.emit(_,...t)}async _emit(e,t,r,s,i){if(this.closed)return;const o=this.options;j&&(t=n.normalize(t)),o.cwd&&(t=n.relative(o.cwd,t));const a=[e,t];void 0!==i?a.push(r,s,i):void 0!==s?a.push(r,s):void 0!==r&&a.push(r);const l=o.awaitWriteFinish;let c;if(l&&(c=this._pendingWrites.get(t)))return c.lastChange=new Date,this;if(o.atomic){if(e===y)return this._pendingUnlinks.set(t,a),setTimeout(()=>{this._pendingUnlinks.forEach((e,t)=>{this.emit(...e),this.emit(_,...e),this._pendingUnlinks.delete(t)})},"number"==typeof o.atomic?o.atomic:100),this;e===m&&this._pendingUnlinks.has(t)&&(e=a[0]=v,this._pendingUnlinks.delete(t))}if(l&&(e===m||e===v)&&this._readyEmitted){const r=(t,r)=>{t?(e=a[0]=R,a[1]=t,this.emitWithAll(e,a)):r&&(a.length>2?a[2]=r:a.push(r),this.emitWithAll(e,a))};return this._awaitWriteFinish(t,l.stabilityThreshold,e,r),this}if(e===v){if(!this._throttle(v,t,50))return this}if(o.alwaysStat&&void 0===r&&(e===m||e===E||e===v)){const e=o.cwd?n.join(o.cwd,t):t;let r;try{r=await K(e)}catch(e){}if(!r||this.closed)return;a.push(r)}return this.emitWithAll(e,a),this}_handleError(e){const t=e&&e.code;return e&&"ENOENT"!==t&&"ENOTDIR"!==t&&(!this.options.ignorePermissionErrors||"EPERM"!==t&&"EACCES"!==t)&&this.emit(R,e),e||this.closed}_throttle(e,t,r){this._throttled.has(e)||this._throttled.set(e,new Map);const s=this._throttled.get(e),i=s.get(t);if(i)return i.count++,!1;let n;const o=()=>{const e=s.get(t),r=e?e.count:0;return s.delete(t),clearTimeout(n),e&&clearTimeout(e.timeoutObject),r};n=setTimeout(o,r);const a={timeoutObject:n,clear:o,count:0};return s.set(t,a),a}_incrReadyCount(){return this._readyCount++}_awaitWriteFinish(e,t,r,s){let o,a=e;this.options.cwd&&!n.isAbsolute(e)&&(a=n.join(this.options.cwd,e));const l=new Date,c=r=>{i.stat(a,(i,n)=>{if(i||!this._pendingWrites.has(e))return void(i&&"ENOENT"!==i.code&&s(i));const a=Number(new Date);r&&n.size!==r.size&&(this._pendingWrites.get(e).lastChange=a),a-this._pendingWrites.get(e).lastChange>=t?(this._pendingWrites.delete(e),s(void 0,n)):o=setTimeout(c,this.options.awaitWriteFinish.pollInterval,n)})};this._pendingWrites.has(e)||(this._pendingWrites.set(e,{lastChange:l,cancelWait:()=>(this._pendingWrites.delete(e),clearTimeout(o),r)}),o=setTimeout(c,this.options.awaitWriteFinish.pollInterval))}_getGlobIgnored(){return[...this._ignoredPaths.values()]}_isIgnored(e,t){if(this.options.atomic&&P.test(e))return!0;if(!this._userIgnored){const{cwd:e}=this.options,t=this.options.ignored,r=t&&t.map(Z(e)),s=q(r).filter(e=>typeof e===$&&!u(e)).map(e=>e+M),i=this._getGlobIgnored().map(Z(e)).concat(r,s);this._userIgnored=l(i,void 0,F)}return this._userIgnored([e,t])}_isntIgnored(e,t){return!this._isIgnored(e,t)}_getWatchHelpers(e,t){const r=t||this.options.disableGlobbing||!u(e)?e:c(e),s=this.options.followSymlinks;return new te(e,r,s,this)}_getWatchedDir(e){this._boundRemove||(this._boundRemove=this._remove.bind(this));const t=n.resolve(e);return this._watched.has(t)||this._watched.set(t,new ee(t,this._boundRemove)),this._watched.get(t)}_hasReadPermissions(e){if(this.options.ignorePermissionErrors)return!0;const t=511&(e&&Number.parseInt(e.mode,10)),r=Number.parseInt(t.toString(8)[0],10);return Boolean(4&r)}_remove(e,t,r){const s=n.join(e,t),i=n.resolve(s);if(r=null!=r?r:this._watched.has(s)||this._watched.has(i),!this._throttle("remove",s,100))return;r||this.options.useFsEvents||1!==this._watched.size||this.add(e,t,!0),this._getWatchedDir(s).getChildren().forEach(e=>this._remove(s,e));const o=this._getWatchedDir(e),a=o.has(t);o.remove(t);let l=s;if(this.options.cwd&&(l=n.relative(this.options.cwd,s)),this.options.awaitWriteFinish&&this._pendingWrites.has(l)){if(this._pendingWrites.get(l).cancelWait()===m)return}this._watched.delete(s),this._watched.delete(i);const c=r?w:y;a&&!this._isIgnored(s)&&this._emit(c,s),this.options.useFsEvents||this._closePath(s)}_closePath(e){const t=this._closers.get(e);if(!t)return;t.forEach(e=>e()),this._closers.delete(e);const r=n.dirname(e);this._getWatchedDir(r).remove(n.basename(e))}_addPathCloser(e,t){if(!t)return;let r=this._closers.get(e);r||(r=[],this._closers.set(e,r)),r.push(t)}_readdirp(e,t){if(this.closed)return;const r={type:_,alwaysStat:!0,lstat:!0,...t};let s=a(e,r);return this._streams.add(s),s.once(A,()=>{s=void 0}),s.once(S,()=>{s&&(this._streams.delete(s),s=void 0)}),s}}t.FSWatcher=re;t.watch=(e,t)=>{const r=new re(t);return r.add(e),r}},function(e,t){e.exports=require("events")},function(e,t,r){"use strict";const s=r(1),{Readable:i}=r(28),n=r(0),{promisify:o}=r(2),a=r(14),l=o(s.readdir),c=o(s.stat),u=o(s.lstat),h=o(s.realpath),d=new Set(["ENOENT","EPERM","EACCES","ELOOP"]),f="files",p="directories",_="files_directories",g="all",m=[f,p,_,g],v=e=>{if(void 0!==e){if("function"==typeof e)return e;if("string"==typeof e){const t=a(e.trim());return e=>t(e.basename)}if(Array.isArray(e)){const t=[],r=[];for(const s of e){const e=s.trim();"!"===e.charAt(0)?r.push(a(e.slice(1))):t.push(a(e))}return r.length>0?t.length>0?e=>t.some(t=>t(e.basename))&&!r.some(t=>t(e.basename)):e=>!r.some(t=>t(e.basename)):e=>t.some(t=>t(e.basename))}}};class y extends i{static get defaultOptions(){return{root:".",fileFilter:e=>!0,directoryFilter:e=>!0,type:f,lstat:!1,depth:2147483648,alwaysStat:!1}}constructor(e={}){super({objectMode:!0,autoDestroy:!0,highWaterMark:e.highWaterMark||4096});const t={...y.defaultOptions,...e},{root:r,type:i}=t;this._fileFilter=v(t.fileFilter),this._directoryFilter=v(t.directoryFilter);const o=t.lstat?u:c;"win32"===process.platform&&3===c.length?this._stat=e=>o(e,{bigint:!0}):this._stat=o,this._maxDepth=t.depth,this._wantsDir=[p,_,g].includes(i),this._wantsFile=[f,_,g].includes(i),this._wantsEverything=i===g,this._root=n.resolve(r),this._isDirent="Dirent"in s&&!t.alwaysStat,this._statsProp=this._isDirent?"dirent":"stats",this._rdOptions={encoding:"utf8",withFileTypes:this._isDirent},this.parents=[this._exploreDir(r,1)],this.reading=!1,this.parent=void 0}async _read(e){if(!this.reading){this.reading=!0;try{for(;!this.destroyed&&e>0;){const{path:t,depth:r,files:s=[]}=this.parent||{};if(s.length>0){const i=s.splice(0,e).map(e=>this._formatEntry(e,t));for(const t of await Promise.all(i)){if(this.destroyed)return;const s=await this._getEntryType(t);"directory"===s&&this._directoryFilter(t)?(r<=this._maxDepth&&this.parents.push(this._exploreDir(t.fullPath,r+1)),this._wantsDir&&(this.push(t),e--)):("file"===s||this._includeAsFile(t))&&this._fileFilter(t)&&this._wantsFile&&(this.push(t),e--)}}else{const e=this.parents.pop();if(!e){this.push(null);break}if(this.parent=await e,this.destroyed)return}}}catch(e){this.destroy(e)}finally{this.reading=!1}}}async _exploreDir(e,t){let r;try{r=await l(e,this._rdOptions)}catch(e){this._onError(e)}return{files:r,depth:t,path:e}}async _formatEntry(e,t){let r;try{const s=this._isDirent?e.name:e,i=n.resolve(n.join(t,s));r={path:n.relative(this._root,i),fullPath:i,basename:s},r[this._statsProp]=this._isDirent?e:await this._stat(i)}catch(e){this._onError(e)}return r}_onError(e){var t;t=e,d.has(t.code)&&!this.destroyed?this.emit("warn",e):this.destroy(e)}async _getEntryType(e){const t=e&&e[this._statsProp];if(t){if(t.isFile())return"file";if(t.isDirectory())return"directory";if(t&&t.isSymbolicLink())try{const t=await h(e.fullPath),r=await u(t);if(r.isFile())return"file";if(r.isDirectory())return"directory"}catch(e){this._onError(e)}}}_includeAsFile(e){const t=e&&e[this._statsProp];return t&&this._wantsEverything&&!t.isDirectory()}}const E=(e,t={})=>{let r=t.entryType||t.type;if("both"===r&&(r=_),r&&(t.type=r),!e)throw new Error("readdirp: root argument is required. Usage: readdirp(root, options)");if("string"!=typeof e)throw new TypeError("readdirp: root argument must be a string. Usage: readdirp(root, options)");if(r&&!m.includes(r))throw new Error("readdirp: Invalid type passed. Use one of "+m.join(", "));return t.root=e,new y(t)};E.promise=(e,t={})=>new Promise((r,s)=>{const i=[];E(e,t).on("data",e=>i.push(e)).on("end",()=>r(i)).on("error",e=>s(e))}),E.ReaddirpStream=y,E.default=E,e.exports=E},function(e,t){e.exports=require("stream")},function(e,t,r){"use strict";const s=r(0),i=r(30),n=r(31),o=r(5),a=r(4),l=(e,t,r=!1)=>{if(Array.isArray(e)){const s=e.map(e=>l(e,t,r));return e=>{for(const t of s){const r=t(e);if(r)return r}return!1}}const s=(i=e)&&"object"==typeof i&&!Array.isArray(i)&&e.tokens&&e.input;var i;if(""===e||"string"!=typeof e&&!s)throw new TypeError("Expected pattern to be a non-empty string");const n=t||{},a=o.isWindows(t),c=s?l.compileRe(e,t):l.makeRe(e,t,!1,!0),u=c.state;delete c.state;let h=()=>!1;if(n.ignore){const e={...t,ignore:null,onMatch:null,onResult:null};h=l(n.ignore,e,r)}const d=(r,s=!1)=>{const{isMatch:i,match:o,output:d}=l.test(r,c,t,{glob:e,posix:a}),f={glob:e,state:u,regex:c,posix:a,input:r,output:d,match:o,isMatch:i};return"function"==typeof n.onResult&&n.onResult(f),!1===i?(f.isMatch=!1,!!s&&f):h(r)?("function"==typeof n.onIgnore&&n.onIgnore(f),f.isMatch=!1,!!s&&f):("function"==typeof n.onMatch&&n.onMatch(f),!s||f)};return r&&(d.state=u),d};l.test=(e,t,r,{glob:s,posix:i}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};const n=r||{},a=n.format||(i?o.toPosixSlashes:null);let c=e===s,u=c&&a?a(e):e;return!1===c&&(u=a?a(e):e,c=u===s),!1!==c&&!0!==n.capture||(c=!0===n.matchBase||!0===n.basename?l.matchBase(e,t,r,i):t.exec(u)),{isMatch:Boolean(c),match:c,output:u}},l.matchBase=(e,t,r,i=o.isWindows(r))=>(t instanceof RegExp?t:l.makeRe(t,r)).test(s.basename(e)),l.isMatch=(e,t,r)=>l(t,r)(e),l.parse=(e,t)=>Array.isArray(e)?e.map(e=>l.parse(e,t)):n(e,{...t,fastpaths:!1}),l.scan=(e,t)=>i(e,t),l.compileRe=(e,t,r=!1,s=!1)=>{if(!0===r)return e.output;const i=t||{},n=i.contains?"":"^",o=i.contains?"":"$";let a=`${n}(?:${e.output})${o}`;e&&!0===e.negated&&(a=`^(?!${a}).*$`);const c=l.toRegex(a,t);return!0===s&&(c.state=e),c},l.makeRe=(e,t,r=!1,s=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");const i=t||{};let o,a={negated:!1,fastpaths:!0},c="";return e.startsWith("./")&&(e=e.slice(2),c=a.prefix="./"),!1===i.fastpaths||"."!==e[0]&&"*"!==e[0]||(o=n.fastpaths(e,t)),void 0===o?(a=n(e,t),a.prefix=c+(a.prefix||"")):a.output=o,l.compileRe(a,t,r,s)},l.toRegex=(e,t)=>{try{const r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},l.constants=a,e.exports=l},function(e,t,r){"use strict";const s=r(5),{CHAR_ASTERISK:i,CHAR_AT:n,CHAR_BACKWARD_SLASH:o,CHAR_COMMA:a,CHAR_DOT:l,CHAR_EXCLAMATION_MARK:c,CHAR_FORWARD_SLASH:u,CHAR_LEFT_CURLY_BRACE:h,CHAR_LEFT_PARENTHESES:d,CHAR_LEFT_SQUARE_BRACKET:f,CHAR_PLUS:p,CHAR_QUESTION_MARK:_,CHAR_RIGHT_CURLY_BRACE:g,CHAR_RIGHT_PARENTHESES:m,CHAR_RIGHT_SQUARE_BRACKET:v}=r(4),y=e=>e===u||e===o,E=e=>{!0!==e.isPrefix&&(e.depth=e.isGlobstar?1/0:1)};e.exports=(e,t)=>{const r=t||{},w=e.length-1,b=!0===r.parts||!0===r.scanToEnd,R=[],A=[],S=[];let x,C,T=e,P=-1,O=0,H=0,L=!1,I=!1,k=!1,N=!1,D=!1,M=!1,F=!1,$=!1,W=!1,G=0,B={value:"",depth:0,isGlob:!1};const j=()=>P>=w,U=()=>(x=C,T.charCodeAt(++P));for(;P<w;){let e;if(C=U(),C!==o){if(!0===M||C===h){for(G++;!0!==j()&&(C=U());)if(C!==o)if(C!==h){if(!0!==M&&C===l&&(C=U())===l){if(L=B.isBrace=!0,k=B.isGlob=!0,W=!0,!0===b)continue;break}if(!0!==M&&C===a){if(L=B.isBrace=!0,k=B.isGlob=!0,W=!0,!0===b)continue;break}if(C===g&&(G--,0===G)){M=!1,L=B.isBrace=!0,W=!0;break}}else G++;else F=B.backslashes=!0,U();if(!0===b)continue;break}if(C!==u){if(!0!==r.noext){if(!0===(C===p||C===n||C===i||C===_||C===c)&&T.charCodeAt(P+1)===d){if(k=B.isGlob=!0,N=B.isExtglob=!0,W=!0,!0===b){for(;!0!==j()&&(C=U());)if(C!==o){if(C===m){k=B.isGlob=!0,W=!0;break}}else F=B.backslashes=!0,C=U();continue}break}}if(C===i){if(x===i&&(D=B.isGlobstar=!0),k=B.isGlob=!0,W=!0,!0===b)continue;break}if(C===_){if(k=B.isGlob=!0,W=!0,!0===b)continue;break}if(C===f)for(;!0!==j()&&(e=U());)if(e!==o){if(e===v){if(I=B.isBracket=!0,k=B.isGlob=!0,W=!0,!0===b)continue;break}}else F=B.backslashes=!0,U();if(!0===r.nonegate||C!==c||P!==O){if(!0!==r.noparen&&C===d){if(k=B.isGlob=!0,!0===b){for(;!0!==j()&&(C=U());)if(C!==d){if(C===m){W=!0;break}}else F=B.backslashes=!0,C=U();continue}break}if(!0===k){if(W=!0,!0===b)continue;break}}else $=B.negated=!0,O++}else{if(R.push(P),A.push(B),B={value:"",depth:0,isGlob:!1},!0===W)continue;if(x===l&&P===O+1){O+=2;continue}H=P+1}}else F=B.backslashes=!0,C=U(),C===h&&(M=!0)}!0===r.noext&&(N=!1,k=!1);let K=T,V="",q="";O>0&&(V=T.slice(0,O),T=T.slice(O),H-=O),K&&!0===k&&H>0?(K=T.slice(0,H),q=T.slice(H)):!0===k?(K="",q=T):K=T,K&&""!==K&&"/"!==K&&K!==T&&y(K.charCodeAt(K.length-1))&&(K=K.slice(0,-1)),!0===r.unescape&&(q&&(q=s.removeBackslashes(q)),K&&!0===F&&(K=s.removeBackslashes(K)));const Y={prefix:V,input:e,start:O,base:K,glob:q,isBrace:L,isBracket:I,isGlob:k,isExtglob:N,isGlobstar:D,negated:$};if(!0===r.tokens&&(Y.maxDepth=0,y(C)||A.push(B),Y.tokens=A),!0===r.parts||!0===r.tokens){let t;for(let s=0;s<R.length;s++){const i=t?t+1:O,n=R[s],o=e.slice(i,n);r.tokens&&(0===s&&0!==O?(A[s].isPrefix=!0,A[s].value=V):A[s].value=o,E(A[s]),Y.maxDepth+=A[s].depth),0===s&&""===o||S.push(o),t=n}if(t&&t+1<e.length){const s=e.slice(t+1);S.push(s),r.tokens&&(A[A.length-1].value=s,E(A[A.length-1]),Y.maxDepth+=A[A.length-1].depth)}Y.slashes=R,Y.parts=S}return Y}},function(e,t,r){"use strict";const s=r(4),i=r(5),{MAX_LENGTH:n,POSIX_REGEX_SOURCE:o,REGEX_NON_SPECIAL_CHARS:a,REGEX_SPECIAL_CHARS_BACKREF:l,REPLACEMENTS:c}=s,u=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();const r=`[${e.join("-")}]`;try{new RegExp(r)}catch(t){return e.map(e=>i.escapeRegex(e)).join("..")}return r},h=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,d=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");e=c[e]||e;const r={...t},d="number"==typeof r.maxLength?Math.min(n,r.maxLength):n;let f=e.length;if(f>d)throw new SyntaxError(`Input length: ${f}, exceeds maximum allowed length: ${d}`);const p={type:"bos",value:"",output:r.prepend||""},_=[p],g=r.capture?"":"?:",m=i.isWindows(t),v=s.globChars(m),y=s.extglobChars(v),{DOT_LITERAL:E,PLUS_LITERAL:w,SLASH_LITERAL:b,ONE_CHAR:R,DOTS_SLASH:A,NO_DOT:S,NO_DOT_SLASH:x,NO_DOTS_SLASH:C,QMARK:T,QMARK_NO_DOT:P,STAR:O,START_ANCHOR:H}=v,L=e=>`(${g}(?:(?!${H}${e.dot?A:E}).)*?)`,I=r.dot?"":S,k=r.dot?T:P;let N=!0===r.bash?L(r):O;r.capture&&(N=`(${N})`),"boolean"==typeof r.noext&&(r.noextglob=r.noext);const D={input:e,index:-1,start:0,dot:!0===r.dot,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:_};e=i.removePrefix(e,D),f=e.length;const M=[],F=[],$=[];let W,G=p;const B=()=>D.index===f-1,j=D.peek=(t=1)=>e[D.index+t],U=D.advance=()=>e[++D.index],K=()=>e.slice(D.index+1),V=(e="",t=0)=>{D.consumed+=e,D.index+=t},q=e=>{D.output+=null!=e.output?e.output:e.value,V(e.value)},Y=()=>{let e=1;for(;"!"===j()&&("("!==j(2)||"?"===j(3));)U(),D.start++,e++;return e%2!=0&&(D.negated=!0,D.start++,!0)},z=e=>{D[e]++,$.push(e)},Q=e=>{D[e]--,$.pop()},X=e=>{if("globstar"===G.type){const t=D.braces>0&&("comma"===e.type||"brace"===e.type),r=!0===e.extglob||M.length&&("pipe"===e.type||"paren"===e.type);"slash"===e.type||"paren"===e.type||t||r||(D.output=D.output.slice(0,-G.output.length),G.type="star",G.value="*",G.output=N,D.output+=G.output)}if(M.length&&"paren"!==e.type&&!y[e.value]&&(M[M.length-1].inner+=e.value),(e.value||e.output)&&q(e),G&&"text"===G.type&&"text"===e.type)return G.value+=e.value,void(G.output=(G.output||"")+e.value);e.prev=G,_.push(e),G=e},Z=(e,t)=>{const s={...y[t],conditions:1,inner:""};s.prev=G,s.parens=D.parens,s.output=D.output;const i=(r.capture?"(":"")+s.open;z("parens"),X({type:e,value:t,output:D.output?"":R}),X({type:"paren",extglob:!0,value:U(),output:i}),M.push(s)},J=e=>{let t=e.close+(r.capture?")":"");if("negate"===e.type){let s=N;e.inner&&e.inner.length>1&&e.inner.includes("/")&&(s=L(r)),(s!==N||B()||/^\)+$/.test(K()))&&(t=e.close=")$))"+s),"bos"===e.prev.type&&B()&&(D.negatedExtglob=!0)}X({type:"paren",extglob:!0,value:W,output:t}),Q("parens")};if(!1!==r.fastpaths&&!/(^[*!]|[/()[\]{}"])/.test(e)){let s=!1,n=e.replace(l,(e,t,r,i,n,o)=>"\\"===i?(s=!0,e):"?"===i?t?t+i+(n?T.repeat(n.length):""):0===o?k+(n?T.repeat(n.length):""):T.repeat(r.length):"."===i?E.repeat(r.length):"*"===i?t?t+i+(n?N:""):N:t?e:"\\"+e);return!0===s&&(n=!0===r.unescape?n.replace(/\\/g,""):n.replace(/\\+/g,e=>e.length%2==0?"\\\\":e?"\\":"")),n===e&&!0===r.contains?(D.output=e,D):(D.output=i.wrapOutput(n,D,t),D)}for(;!B();){if(W=U(),"\0"===W)continue;if("\\"===W){const e=j();if("/"===e&&!0!==r.bash)continue;if("."===e||";"===e)continue;if(!e){W+="\\",X({type:"text",value:W});continue}const t=/^\\+/.exec(K());let s=0;if(t&&t[0].length>2&&(s=t[0].length,D.index+=s,s%2!=0&&(W+="\\")),!0===r.unescape?W=U()||"":W+=U()||"",0===D.brackets){X({type:"text",value:W});continue}}if(D.brackets>0&&("]"!==W||"["===G.value||"[^"===G.value)){if(!1!==r.posix&&":"===W){const e=G.value.slice(1);if(e.includes("[")&&(G.posix=!0,e.includes(":"))){const e=G.value.lastIndexOf("["),t=G.value.slice(0,e),r=G.value.slice(e+2),s=o[r];if(s){G.value=t+s,D.backtrack=!0,U(),p.output||1!==_.indexOf(G)||(p.output=R);continue}}}("["===W&&":"!==j()||"-"===W&&"]"===j())&&(W="\\"+W),"]"!==W||"["!==G.value&&"[^"!==G.value||(W="\\"+W),!0===r.posix&&"!"===W&&"["===G.value&&(W="^"),G.value+=W,q({value:W});continue}if(1===D.quotes&&'"'!==W){W=i.escapeRegex(W),G.value+=W,q({value:W});continue}if('"'===W){D.quotes=1===D.quotes?0:1,!0===r.keepQuotes&&X({type:"text",value:W});continue}if("("===W){z("parens"),X({type:"paren",value:W});continue}if(")"===W){if(0===D.parens&&!0===r.strictBrackets)throw new SyntaxError(h("opening","("));const e=M[M.length-1];if(e&&D.parens===e.parens+1){J(M.pop());continue}X({type:"paren",value:W,output:D.parens?")":"\\)"}),Q("parens");continue}if("["===W){if(!0!==r.nobracket&&K().includes("]"))z("brackets");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(h("closing","]"));W="\\"+W}X({type:"bracket",value:W});continue}if("]"===W){if(!0===r.nobracket||G&&"bracket"===G.type&&1===G.value.length){X({type:"text",value:W,output:"\\"+W});continue}if(0===D.brackets){if(!0===r.strictBrackets)throw new SyntaxError(h("opening","["));X({type:"text",value:W,output:"\\"+W});continue}Q("brackets");const e=G.value.slice(1);if(!0===G.posix||"^"!==e[0]||e.includes("/")||(W="/"+W),G.value+=W,q({value:W}),!1===r.literalBrackets||i.hasRegexChars(e))continue;const t=i.escapeRegex(G.value);if(D.output=D.output.slice(0,-G.value.length),!0===r.literalBrackets){D.output+=t,G.value=t;continue}G.value=`(${g}${t}|${G.value})`,D.output+=G.value;continue}if("{"===W&&!0!==r.nobrace){z("braces");const e={type:"brace",value:W,output:"(",outputIndex:D.output.length,tokensIndex:D.tokens.length};F.push(e),X(e);continue}if("}"===W){const e=F[F.length-1];if(!0===r.nobrace||!e){X({type:"text",value:W,output:W});continue}let t=")";if(!0===e.dots){const e=_.slice(),s=[];for(let t=e.length-1;t>=0&&(_.pop(),"brace"!==e[t].type);t--)"dots"!==e[t].type&&s.unshift(e[t].value);t=u(s,r),D.backtrack=!0}if(!0!==e.comma&&!0!==e.dots){const r=D.output.slice(0,e.outputIndex),s=D.tokens.slice(e.tokensIndex);e.value=e.output="\\{",W=t="\\}",D.output=r;for(const e of s)D.output+=e.output||e.value}X({type:"brace",value:W,output:t}),Q("braces"),F.pop();continue}if("|"===W){M.length>0&&M[M.length-1].conditions++,X({type:"text",value:W});continue}if(","===W){let e=W;const t=F[F.length-1];t&&"braces"===$[$.length-1]&&(t.comma=!0,e="|"),X({type:"comma",value:W,output:e});continue}if("/"===W){if("dot"===G.type&&D.index===D.start+1){D.start=D.index+1,D.consumed="",D.output="",_.pop(),G=p;continue}X({type:"slash",value:W,output:b});continue}if("."===W){if(D.braces>0&&"dot"===G.type){"."===G.value&&(G.output=E);const e=F[F.length-1];G.type="dots",G.output+=W,G.value+=W,e.dots=!0;continue}if(D.braces+D.parens===0&&"bos"!==G.type&&"slash"!==G.type){X({type:"text",value:W,output:E});continue}X({type:"dot",value:W,output:E});continue}if("?"===W){if(!(G&&"("===G.value)&&!0!==r.noextglob&&"("===j()&&"?"!==j(2)){Z("qmark",W);continue}if(G&&"paren"===G.type){const e=j();let t=W;if("<"===e&&!i.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===G.value&&!/[!=<:]/.test(e)||"<"===e&&!/<([!=]|\w+>)/.test(K()))&&(t="\\"+W),X({type:"text",value:W,output:t});continue}if(!0!==r.dot&&("slash"===G.type||"bos"===G.type)){X({type:"qmark",value:W,output:P});continue}X({type:"qmark",value:W,output:T});continue}if("!"===W){if(!0!==r.noextglob&&"("===j()&&("?"!==j(2)||!/[!=<:]/.test(j(3)))){Z("negate",W);continue}if(!0!==r.nonegate&&0===D.index){Y();continue}}if("+"===W){if(!0!==r.noextglob&&"("===j()&&"?"!==j(2)){Z("plus",W);continue}if(G&&"("===G.value||!1===r.regex){X({type:"plus",value:W,output:w});continue}if(G&&("bracket"===G.type||"paren"===G.type||"brace"===G.type)||D.parens>0){X({type:"plus",value:W});continue}X({type:"plus",value:w});continue}if("@"===W){if(!0!==r.noextglob&&"("===j()&&"?"!==j(2)){X({type:"at",extglob:!0,value:W,output:""});continue}X({type:"text",value:W});continue}if("*"!==W){"$"!==W&&"^"!==W||(W="\\"+W);const e=a.exec(K());e&&(W+=e[0],D.index+=e[0].length),X({type:"text",value:W});continue}if(G&&("globstar"===G.type||!0===G.star)){G.type="star",G.star=!0,G.value+=W,G.output=N,D.backtrack=!0,D.globstar=!0,V(W);continue}let t=K();if(!0!==r.noextglob&&/^\([^?]/.test(t)){Z("star",W);continue}if("star"===G.type){if(!0===r.noglobstar){V(W);continue}const s=G.prev,i=s.prev,n="slash"===s.type||"bos"===s.type,o=i&&("star"===i.type||"globstar"===i.type);if(!0===r.bash&&(!n||t[0]&&"/"!==t[0])){X({type:"star",value:W,output:""});continue}const a=D.braces>0&&("comma"===s.type||"brace"===s.type),l=M.length&&("pipe"===s.type||"paren"===s.type);if(!n&&"paren"!==s.type&&!a&&!l){X({type:"star",value:W,output:""});continue}for(;"/**"===t.slice(0,3);){const r=e[D.index+4];if(r&&"/"!==r)break;t=t.slice(3),V("/**",3)}if("bos"===s.type&&B()){G.type="globstar",G.value+=W,G.output=L(r),D.output=G.output,D.globstar=!0,V(W);continue}if("slash"===s.type&&"bos"!==s.prev.type&&!o&&B()){D.output=D.output.slice(0,-(s.output+G.output).length),s.output="(?:"+s.output,G.type="globstar",G.output=L(r)+(r.strictSlashes?")":"|$)"),G.value+=W,D.globstar=!0,D.output+=s.output+G.output,V(W);continue}if("slash"===s.type&&"bos"!==s.prev.type&&"/"===t[0]){const e=void 0!==t[1]?"|$":"";D.output=D.output.slice(0,-(s.output+G.output).length),s.output="(?:"+s.output,G.type="globstar",G.output=`${L(r)}${b}|${b}${e})`,G.value+=W,D.output+=s.output+G.output,D.globstar=!0,V(W+U()),X({type:"slash",value:"/",output:""});continue}if("bos"===s.type&&"/"===t[0]){G.type="globstar",G.value+=W,G.output=`(?:^|${b}|${L(r)}${b})`,D.output=G.output,D.globstar=!0,V(W+U()),X({type:"slash",value:"/",output:""});continue}D.output=D.output.slice(0,-G.output.length),G.type="globstar",G.output=L(r),G.value+=W,D.output+=G.output,D.globstar=!0,V(W);continue}const s={type:"star",value:W,output:N};!0!==r.bash?!G||"bracket"!==G.type&&"paren"!==G.type||!0!==r.regex?(D.index!==D.start&&"slash"!==G.type&&"dot"!==G.type||("dot"===G.type?(D.output+=x,G.output+=x):!0===r.dot?(D.output+=C,G.output+=C):(D.output+=I,G.output+=I),"*"!==j()&&(D.output+=R,G.output+=R)),X(s)):(s.output=W,X(s)):(s.output=".*?","bos"!==G.type&&"slash"!==G.type||(s.output=I+s.output),X(s))}for(;D.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(h("closing","]"));D.output=i.escapeLast(D.output,"["),Q("brackets")}for(;D.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(h("closing",")"));D.output=i.escapeLast(D.output,"("),Q("parens")}for(;D.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(h("closing","}"));D.output=i.escapeLast(D.output,"{"),Q("braces")}if(!0===r.strictSlashes||"star"!==G.type&&"bracket"!==G.type||X({type:"maybe_slash",value:"",output:b+"?"}),!0===D.backtrack){D.output="";for(const e of D.tokens)D.output+=null!=e.output?e.output:e.value,e.suffix&&(D.output+=e.suffix)}return D};d.fastpaths=(e,t)=>{const r={...t},o="number"==typeof r.maxLength?Math.min(n,r.maxLength):n,a=e.length;if(a>o)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${o}`);e=c[e]||e;const l=i.isWindows(t),{DOT_LITERAL:u,SLASH_LITERAL:h,ONE_CHAR:d,DOTS_SLASH:f,NO_DOT:p,NO_DOTS:_,NO_DOTS_SLASH:g,STAR:m,START_ANCHOR:v}=s.globChars(l),y=r.dot?_:p,E=r.dot?g:p,w=r.capture?"":"?:";let b=!0===r.bash?".*?":m;r.capture&&(b=`(${b})`);const R=e=>!0===e.noglobstar?b:`(${w}(?:(?!${v}${e.dot?f:u}).)*?)`,A=e=>{switch(e){case"*":return`${y}${d}${b}`;case".*":return`${u}${d}${b}`;case"*.*":return`${y}${b}${u}${d}${b}`;case"*/*":return`${y}${b}${h}${d}${E}${b}`;case"**":return y+R(r);case"**/*":return`(?:${y}${R(r)}${h})?${E}${d}${b}`;case"**/*.*":return`(?:${y}${R(r)}${h})?${E}${b}${u}${d}${b}`;case"**/.*":return`(?:${y}${R(r)}${h})?${u}${d}${b}`;default:{const t=/^(.*?)\.(\w+)$/.exec(e);if(!t)return;const r=A(t[1]);if(!r)return;return r+u+t[2]}}},S=i.removePrefix(e,{negated:!1,prefix:""});let x=A(S);return x&&!0!==r.strictSlashes&&(x+=h+"?"),x},e.exports=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(14),i=r(15),n={returnIndex:!1},o=(e,t,r,s)=>{const n=Array.isArray(r),o=n?r[0]:r;if(!n&&"string"!=typeof o)throw new TypeError("anymatch: second argument must be a string: got "+Object.prototype.toString.call(o));const a=i(o);for(let e=0;e<t.length;e++){if((0,t[e])(a))return!!s&&-1}const l=n&&[a].concat(r.slice(1));for(let t=0;t<e.length;t++){const r=e[t];if(n?r(...l):r(a))return!s||t}return!!s&&-1},a=(e,t,r=n)=>{if(null==e)throw new TypeError("anymatch: specify first argument");const i="boolean"==typeof r?{returnIndex:r}:r,a=i.returnIndex||!1,l=(c=e,Array.isArray(c)?c:[c]);var c;const u=l.filter(e=>"string"==typeof e&&"!"===e.charAt(0)).map(e=>e.slice(1)).map(e=>s(e,i)),h=l.map(e=>((e,t)=>{if("function"==typeof e)return e;if("string"==typeof e){const r=s(e,t);return t=>e===t||r(t)}return e instanceof RegExp?t=>e.test(t):e=>!1})(e,i));return null==t?(e,t=!1)=>o(h,u,e,"boolean"==typeof t&&t):o(h,u,t,a)};a.default=a,e.exports=a},function(e,t,r){"use strict";var s=r(16),i=r(0).posix.dirname,n="win32"===r(35).platform(),o=/\\/g,a=/[\{\[].*[\/]*.*[\}\]]$/,l=/(^|[^\\])([\{\[]|\([^\)]+$)/,c=/\\([\!\*\?\|\[\]\(\)\{\}])/g;e.exports=function(e,t){Object.assign({flipBackslashes:!0},t).flipBackslashes&&n&&e.indexOf("/")<0&&(e=e.replace(o,"/")),a.test(e)&&(e+="/"),e+="a";do{e=i(e)}while(s(e)||l.test(e));return e.replace(c,"$1")}},function(e,t){
/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
e.exports=function(e){if("string"!=typeof e||""===e)return!1;for(var t;t=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(t[2])return!0;e=e.slice(t.index+t[0].length)}return!1}},function(e,t){e.exports=require("os")},function(e,t,r){"use strict";const s=r(6),i=r(37),n=r(40),o=r(41),a=(e,t={})=>{let r=[];if(Array.isArray(e))for(let s of e){let e=a.create(s,t);Array.isArray(e)?r.push(...e):r.push(e)}else r=[].concat(a.create(e,t));return t&&!0===t.expand&&!0===t.nodupes&&(r=[...new Set(r)]),r};a.parse=(e,t={})=>o(e,t),a.stringify=(e,t={})=>s("string"==typeof e?a.parse(e,t):e,t),a.compile=(e,t={})=>("string"==typeof e&&(e=a.parse(e,t)),i(e,t)),a.expand=(e,t={})=>{"string"==typeof e&&(e=a.parse(e,t));let r=n(e,t);return!0===t.noempty&&(r=r.filter(Boolean)),!0===t.nodupes&&(r=[...new Set(r)]),r},a.create=(e,t={})=>""===e||e.length<3?[e]:!0!==t.expand?a.compile(e,t):a.expand(e,t),e.exports=a},function(e,t,r){"use strict";const s=r(17),i=r(7);e.exports=(e,t={})=>{let r=(e,n={})=>{let o=i.isInvalidBrace(n),a=!0===e.invalid&&!0===t.escapeInvalid,l=!0===o||!0===a,c=!0===t.escapeInvalid?"\\":"",u="";if(!0===e.isOpen)return c+e.value;if(!0===e.isClose)return c+e.value;if("open"===e.type)return l?c+e.value:"(";if("close"===e.type)return l?c+e.value:")";if("comma"===e.type)return"comma"===e.prev.type?"":l?e.value:"|";if(e.value)return e.value;if(e.nodes&&e.ranges>0){let r=i.reduce(e.nodes),n=s(...r,{...t,wrap:!1,toRegex:!0});if(0!==n.length)return r.length>1&&n.length>1?`(${n})`:n}if(e.nodes)for(let t of e.nodes)u+=r(t,e);return u};return r(e)}},function(e,t,r){"use strict";
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const s=r(39),i=(e,t,r)=>{if(!1===s(e))throw new TypeError("toRegexRange: expected the first argument to be a number");if(void 0===t||e===t)return String(e);if(!1===s(t))throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};"boolean"==typeof n.strictZeros&&(n.relaxZeros=!1===n.strictZeros);let l=e+":"+t+"="+String(n.relaxZeros)+String(n.shorthand)+String(n.capture)+String(n.wrap);if(i.cache.hasOwnProperty(l))return i.cache[l].result;let c=Math.min(e,t),u=Math.max(e,t);if(1===Math.abs(c-u)){let r=e+"|"+t;return n.capture?`(${r})`:!1===n.wrap?r:`(?:${r})`}let h=p(e)||p(t),d={min:e,max:t,a:c,b:u},f=[],_=[];if(h&&(d.isPadded=h,d.maxLen=String(d.max).length),c<0){_=o(u<0?Math.abs(u):1,Math.abs(c),d,n),c=d.a=0}return u>=0&&(f=o(c,u,d,n)),d.negatives=_,d.positives=f,d.result=function(e,t,r){let s=a(e,t,"-",!1,r)||[],i=a(t,e,"",!1,r)||[],n=a(e,t,"-?",!0,r)||[];return s.concat(n).concat(i).join("|")}(_,f,n),!0===n.capture?d.result=`(${d.result})`:!1!==n.wrap&&f.length+_.length>1&&(d.result=`(?:${d.result})`),i.cache[l]=d,d.result};function n(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let s=function(e,t){let r=[];for(let s=0;s<e.length;s++)r.push([e[s],t[s]]);return r}(e,t),i=s.length,n="",o=0;for(let e=0;e<i;e++){let[t,i]=s[e];t===i?n+=t:"0"!==t||"9"!==i?n+=f(t,i,r):o++}return o&&(n+=!0===r.shorthand?"\\d":"[0-9]"),{pattern:n,count:[o],digits:i}}function o(e,t,r,s){let i,o=function(e,t){let r=1,s=1,i=u(e,r),n=new Set([t]);for(;e<=i&&i<=t;)n.add(i),r+=1,i=u(e,r);for(i=h(t+1,s)-1;e<i&&i<=t;)n.add(i),s+=1,i=h(t+1,s)-1;return n=[...n],n.sort(l),n}(e,t),a=[],c=e;for(let e=0;e<o.length;e++){let t=o[e],l=n(String(c),String(t),s),u="";r.isPadded||!i||i.pattern!==l.pattern?(r.isPadded&&(u=_(t,r,s)),l.string=u+l.pattern+d(l.count),a.push(l),c=t+1,i=l):(i.count.length>1&&i.count.pop(),i.count.push(l.count[0]),i.string=i.pattern+d(i.count),c=t+1)}return a}function a(e,t,r,s,i){let n=[];for(let i of e){let{string:e}=i;s||c(t,"string",e)||n.push(r+e),s&&c(t,"string",e)&&n.push(r+e)}return n}function l(e,t){return e>t?1:t>e?-1:0}function c(e,t,r){return e.some(e=>e[t]===r)}function u(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function h(e,t){return e-e%Math.pow(10,t)}function d(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function f(e,t,r){return`[${e}${t-e==1?"":"-"}${t}]`}function p(e){return/^-?(0+)\d/.test(e)}function _(e,t,r){if(!t.isPadded)return e;let s=Math.abs(t.maxLen-String(e).length),i=!1!==r.relaxZeros;switch(s){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${s}}`:`0{${s}}`}}i.cache={},i.clearCache=()=>i.cache={},e.exports=i},function(e,t,r){"use strict";
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */e.exports=function(e){return"number"==typeof e?e-e==0:"string"==typeof e&&""!==e.trim()&&(Number.isFinite?Number.isFinite(+e):isFinite(+e))}},function(e,t,r){"use strict";const s=r(17),i=r(6),n=r(7),o=(e="",t="",r=!1)=>{let s=[];if(e=[].concat(e),!(t=[].concat(t)).length)return e;if(!e.length)return r?n.flatten(t).map(e=>`{${e}}`):t;for(let i of e)if(Array.isArray(i))for(let e of i)s.push(o(e,t,r));else for(let e of t)!0===r&&"string"==typeof e&&(e=`{${e}}`),s.push(Array.isArray(e)?o(i,e,r):i+e);return n.flatten(s)};e.exports=(e,t={})=>{let r=void 0===t.rangeLimit?1e3:t.rangeLimit,a=(e,l={})=>{e.queue=[];let c=l,u=l.queue;for(;"brace"!==c.type&&"root"!==c.type&&c.parent;)c=c.parent,u=c.queue;if(e.invalid||e.dollar)return void u.push(o(u.pop(),i(e,t)));if("brace"===e.type&&!0!==e.invalid&&2===e.nodes.length)return void u.push(o(u.pop(),["{}"]));if(e.nodes&&e.ranges>0){let a=n.reduce(e.nodes);if(n.exceedsLimit(...a,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let l=s(...a,t);return 0===l.length&&(l=i(e,t)),u.push(o(u.pop(),l)),void(e.nodes=[])}let h=n.encloseBrace(e),d=e.queue,f=e;for(;"brace"!==f.type&&"root"!==f.type&&f.parent;)f=f.parent,d=f.queue;for(let t=0;t<e.nodes.length;t++){let r=e.nodes[t];"comma"!==r.type||"brace"!==e.type?"close"!==r.type?r.value&&"open"!==r.type?d.push(o(d.pop(),r.value)):r.nodes&&a(r,e):u.push(o(u.pop(),d,h)):(1===t&&d.push(""),d.push(""))}return d};return n.flatten(a(e))}},function(e,t,r){"use strict";const s=r(6),{MAX_LENGTH:i,CHAR_BACKSLASH:n,CHAR_BACKTICK:o,CHAR_COMMA:a,CHAR_DOT:l,CHAR_LEFT_PARENTHESES:c,CHAR_RIGHT_PARENTHESES:u,CHAR_LEFT_CURLY_BRACE:h,CHAR_RIGHT_CURLY_BRACE:d,CHAR_LEFT_SQUARE_BRACKET:f,CHAR_RIGHT_SQUARE_BRACKET:p,CHAR_DOUBLE_QUOTE:_,CHAR_SINGLE_QUOTE:g,CHAR_NO_BREAK_SPACE:m,CHAR_ZERO_WIDTH_NOBREAK_SPACE:v}=r(42);e.exports=(e,t={})=>{if("string"!=typeof e)throw new TypeError("Expected a string");let r=t||{},y="number"==typeof r.maxLength?Math.min(i,r.maxLength):i;if(e.length>y)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${y})`);let E,w={type:"root",input:e,nodes:[]},b=[w],R=w,A=w,S=0,x=e.length,C=0,T=0;const P=()=>e[C++],O=e=>{if("text"===e.type&&"dot"===A.type&&(A.type="text"),!A||"text"!==A.type||"text"!==e.type)return R.nodes.push(e),e.parent=R,e.prev=A,A=e,e;A.value+=e.value};for(O({type:"bos"});C<x;)if(R=b[b.length-1],E=P(),E!==v&&E!==m)if(E!==n)if(E!==p)if(E!==f)if(E!==c)if(E!==u)if(E!==_&&E!==g&&E!==o)if(E!==h)if(E!==d)if(E===a&&T>0){if(R.ranges>0){R.ranges=0;let e=R.nodes.shift();R.nodes=[e,{type:"text",value:s(R)}]}O({type:"comma",value:E}),R.commas++}else if(E===l&&T>0&&0===R.commas){let e=R.nodes;if(0===T||0===e.length){O({type:"text",value:E});continue}if("dot"===A.type){if(R.range=[],A.value+=E,A.type="range",3!==R.nodes.length&&5!==R.nodes.length){R.invalid=!0,R.ranges=0,A.type="text";continue}R.ranges++,R.args=[];continue}if("range"===A.type){e.pop();let t=e[e.length-1];t.value+=A.value+E,A=t,R.ranges--;continue}O({type:"dot",value:E})}else O({type:"text",value:E});else{if("brace"!==R.type){O({type:"text",value:E});continue}let e="close";R=b.pop(),R.close=!0,O({type:e,value:E}),T--,R=b[b.length-1]}else{T++;let e=A.value&&"$"===A.value.slice(-1)||!0===R.dollar;R=O({type:"brace",open:!0,close:!1,dollar:e,depth:T,commas:0,ranges:0,nodes:[]}),b.push(R),O({type:"open",value:E})}else{let e,r=E;for(!0!==t.keepQuotes&&(E="");C<x&&(e=P());)if(e!==n){if(e===r){!0===t.keepQuotes&&(E+=e);break}E+=e}else E+=e+P();O({type:"text",value:E})}else{if("paren"!==R.type){O({type:"text",value:E});continue}R=b.pop(),O({type:"text",value:E}),R=b[b.length-1]}else R=O({type:"paren",nodes:[]}),b.push(R),O({type:"text",value:E});else{S++;let e;for(;C<x&&(e=P());)if(E+=e,e!==f)if(e!==n){if(e===p&&(S--,0===S))break}else E+=P();else S++;O({type:"text",value:E})}else O({type:"text",value:"\\"+E});else O({type:"text",value:(t.keepEscaping?E:"")+P()});do{if(R=b.pop(),"root"!==R.type){R.nodes.forEach(e=>{e.nodes||("open"===e.type&&(e.isOpen=!0),"close"===e.type&&(e.isClose=!0),e.nodes||(e.type="text"),e.invalid=!0)});let e=b[b.length-1],t=e.nodes.indexOf(R);e.nodes.splice(t,1,...R.nodes)}}while(b.length>0);return O({type:"eos"}),w}},function(e,t,r){"use strict";e.exports={MAX_LENGTH:65536,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:"\n",CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"}},function(e,t,r){"use strict";const s=r(1),i=r(0),{promisify:n}=r(2),o=r(44),{isWindows:a,EMPTY_FN:l,EMPTY_STR:c,KEY_LISTENERS:u,KEY_ERR:h,KEY_RAW:d,HANDLER_KEYS:f,EV_CHANGE:p,EV_ADD:_,EV_ADD_DIR:g,EV_ERROR:m,STR_DATA:v,STR_END:y,BRACE_START:E,STAR:w}=r(8),b=n(s.open),R=n(s.stat),A=n(s.lstat),S=n(s.close),x=n(s.realpath),C={lstat:A,stat:R},T=(e,t)=>{e instanceof Set?e.forEach(t):t(e)},P=(e,t,r)=>{let s=e[t];s instanceof Set||(e[t]=s=new Set([s])),s.add(r)},O=(e,t,r)=>{const s=e[t];s instanceof Set?s.delete(r):s===r&&delete e[t]},H=e=>e instanceof Set?0===e.size:!e,L=new Map;function I(e,t,r,n,o){const a=(t,s)=>{r(e),o(t,s,{watchedPath:e}),s&&e!==s&&k(i.resolve(e,s),u,i.join(e,s))};try{return s.watch(e,t,a)}catch(e){n(e)}}const k=(e,t,r,s,i)=>{const n=L.get(e);n&&T(n[t],e=>{e(r,s,i)})},N=(e,t,r,s)=>{const{listener:i,errHandler:n,rawEmitter:o}=s;let l,c=L.get(t);if(!r.persistent)return l=I(e,r,i,n,o),l.close.bind(l);if(c)P(c,u,i),P(c,h,n),P(c,d,o);else{if(l=I(e,r,k.bind(null,t,u),n,k.bind(null,t,d)),!l)return;l.on(m,async r=>{const s=k.bind(null,t,h);if(c.watcherUnusable=!0,a&&"EPERM"===r.code)try{const t=await b(e,"r");await S(t),s(r)}catch(e){}else s(r)}),c={listeners:i,errHandlers:n,rawEmitters:o,watcher:l},L.set(t,c)}return()=>{O(c,u,i),O(c,h,n),O(c,d,o),H(c.listeners)&&(c.watcher.close(),L.delete(t),f.forEach((e=>t=>{const r=e[t];r instanceof Set?r.clear():delete e[t]})(c)),c.watcher=void 0,Object.freeze(c))}},D=new Map;e.exports=class{constructor(e){this.fsw=e,this._boundHandleError=t=>e._handleError(t)}_watchWithNodeFs(e,t){const r=this.fsw.options,n=i.dirname(e),a=i.basename(e);this.fsw._getWatchedDir(n).add(a);const c=i.resolve(e),h={persistent:r.persistent};let f;return t||(t=l),r.usePolling?(h.interval=r.enableBinaryInterval&&o(a)?r.binaryInterval:r.interval,f=((e,t,r,i)=>{const{listener:n,rawEmitter:o}=i;let a=D.get(t),l=new Set,c=new Set;const h=a&&a.options;return h&&(h.persistent<r.persistent||h.interval>r.interval)&&(l=a.listeners,c=a.rawEmitters,s.unwatchFile(t),a=void 0),a?(P(a,u,n),P(a,d,o)):(a={listeners:n,rawEmitters:o,options:r,watcher:s.watchFile(t,r,(r,s)=>{T(a.rawEmitters,e=>{e(p,t,{curr:r,prev:s})});const i=r.mtimeMs;(r.size!==s.size||i>s.mtimeMs||0===i)&&T(a.listeners,t=>t(e,r))})},D.set(t,a)),()=>{O(a,u,n),O(a,d,o),H(a.listeners)&&(D.delete(t),s.unwatchFile(t),a.options=a.watcher=void 0,Object.freeze(a))}})(e,c,h,{listener:t,rawEmitter:this.fsw._emitRaw})):f=N(e,c,h,{listener:t,errHandler:this._boundHandleError,rawEmitter:this.fsw._emitRaw}),f}_handleFile(e,t,r){if(this.fsw.closed)return;const s=i.dirname(e),n=i.basename(e),o=this.fsw._getWatchedDir(s);let a=t;if(o.has(n))return;const l=this._watchWithNodeFs(e,async(t,r)=>{if(this.fsw._throttle("watch",e,5))if(r&&0!==r.mtimeMs){if(o.has(n)){const t=r.atimeMs,s=r.mtimeMs;(!t||t<=s||s!==a.mtimeMs)&&this.fsw._emit(p,e,r),a=r}}else try{const t=await R(e);if(this.fsw.closed)return;const r=t.atimeMs,s=t.mtimeMs;(!r||r<=s||s!==a.mtimeMs)&&this.fsw._emit(p,e,t),a=t}catch(e){this.fsw._remove(s,n)}});if((!r||!this.fsw.options.ignoreInitial)&&this.fsw._isntIgnored(e)){if(!this.fsw._throttle(_,e,0))return;this.fsw._emit(_,e,t)}return l}async _handleSymlink(e,t,r,s){if(this.fsw.closed)return;const i=e.fullPath,n=this.fsw._getWatchedDir(t);if(!this.fsw.options.followSymlinks){this.fsw._incrReadyCount();const t=await x(r);if(this.fsw.closed)return;return n.has(s)?this.fsw._symlinkPaths.get(i)!==t&&(this.fsw._symlinkPaths.set(i,t),this.fsw._emit(p,r,e.stats)):(n.add(s),this.fsw._symlinkPaths.set(i,t),this.fsw._emit(_,r,e.stats)),this.fsw._emitReady(),!0}if(this.fsw._symlinkPaths.has(i))return!0;this.fsw._symlinkPaths.set(i,!0)}_handleRead(e,t,r,s,n,o,a){if(e=i.join(e,c),!r.hasGlob&&!(a=this.fsw._throttle("readdir",e,1e3)))return;const l=this.fsw._getWatchedDir(r.path),u=new Set;let h=this.fsw._readdirp(e,{fileFilter:e=>r.filterPath(e),directoryFilter:e=>r.filterDir(e),depth:0}).on(v,async a=>{if(this.fsw.closed)return void(h=void 0);const c=a.path;let d=i.join(e,c);u.add(c),a.stats.isSymbolicLink()&&await this._handleSymlink(a,e,d,c)||(this.fsw.closed?h=void 0:c!==s&&(s||l.has(c))||(this.fsw._incrReadyCount(),d=i.join(n,i.relative(n,d)),this._addToNodeFs(d,t,r,o+1)))}).on(m,this._boundHandleError);return new Promise(t=>h.once(y,()=>{if(this.fsw.closed)return void(h=void 0);const c=!!a&&a.clear();t(),l.getChildren().filter(t=>t!==e&&!u.has(t)&&(!r.hasGlob||r.filterPath({fullPath:i.resolve(e,t)}))).forEach(t=>{this.fsw._remove(e,t)}),h=void 0,c&&this._handleRead(e,!1,r,s,n,o,a)}))}async _handleDir(e,t,r,s,n,o,a){const l=this.fsw._getWatchedDir(i.dirname(e)),c=l.has(i.basename(e));let u;r&&this.fsw.options.ignoreInitial||n||c||o.hasGlob&&!o.globFilter(e)||this.fsw._emit(g,e,t),l.add(i.basename(e)),this.fsw._getWatchedDir(e);const h=this.fsw.options.depth;if((null==h||s<=h)&&!this.fsw._symlinkPaths.has(a)){if(!n&&(await this._handleRead(e,r,o,n,e,s,void 0),this.fsw.closed))return;u=this._watchWithNodeFs(e,(t,r)=>{r&&0===r.mtimeMs||this._handleRead(t,!1,o,n,e,s,void 0)})}return u}async _addToNodeFs(e,t,r,s,n){const o=this.fsw._emitReady;if(this.fsw._isIgnored(e)||this.fsw.closed)return o(),!1;const a=this.fsw._getWatchHelpers(e,s);!a.hasGlob&&r&&(a.hasGlob=r.hasGlob,a.globFilter=r.globFilter,a.filterPath=e=>r.filterPath(e),a.filterDir=e=>r.filterDir(e));try{const r=await C[a.statMethod](a.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(a.watchPath,r))return o(),!1;const l=this.fsw.options.followSymlinks&&!e.includes(w)&&!e.includes(E);let c;if(r.isDirectory()){const i=l?await x(e):e;if(this.fsw.closed)return;if(c=await this._handleDir(a.watchPath,r,t,s,n,a,i),this.fsw.closed)return;e!==i&&void 0!==i&&this.fsw._symlinkPaths.set(i,!0)}else if(r.isSymbolicLink()){const n=l?await x(e):e;if(this.fsw.closed)return;const o=i.dirname(a.watchPath);if(this.fsw._getWatchedDir(o).add(a.watchPath),this.fsw._emit(_,a.watchPath,r),c=await this._handleDir(o,r,t,s,e,a,n),this.fsw.closed)return;void 0!==n&&this.fsw._symlinkPaths.set(i.resolve(e),n)}else c=this._handleFile(a.watchPath,r,t);return o(),this.fsw._addPathCloser(e,c),!1}catch(t){if(this.fsw._handleError(t))return o(),e}}}},function(e,t,r){"use strict";const s=r(0),i=r(45),n=new Set(i);e.exports=e=>n.has(s.extname(e).slice(1).toLowerCase())},function(e,t,r){e.exports=r(46)},function(e){e.exports=JSON.parse('["3dm","3ds","3g2","3gp","7z","a","aac","adp","ai","aif","aiff","alz","ape","apk","ar","arj","asf","au","avi","bak","baml","bh","bin","bk","bmp","btif","bz2","bzip2","cab","caf","cgm","class","cmx","cpio","cr2","cur","dat","dcm","deb","dex","djvu","dll","dmg","dng","doc","docm","docx","dot","dotm","dra","DS_Store","dsk","dts","dtshd","dvb","dwg","dxf","ecelp4800","ecelp7470","ecelp9600","egg","eol","eot","epub","exe","f4v","fbs","fh","fla","flac","fli","flv","fpx","fst","fvt","g3","gh","gif","graffle","gz","gzip","h261","h263","h264","icns","ico","ief","img","ipa","iso","jar","jpeg","jpg","jpgv","jpm","jxr","key","ktx","lha","lib","lvp","lz","lzh","lzma","lzo","m3u","m4a","m4v","mar","mdi","mht","mid","midi","mj2","mka","mkv","mmr","mng","mobi","mov","movie","mp3","mp4","mp4a","mpeg","mpg","mpga","mxu","nef","npx","numbers","nupkg","o","oga","ogg","ogv","otf","pages","pbm","pcx","pdb","pdf","pea","pgm","pic","png","pnm","pot","potm","potx","ppa","ppam","ppm","pps","ppsm","ppsx","ppt","pptm","pptx","psd","pya","pyc","pyo","pyv","qt","rar","ras","raw","resources","rgb","rip","rlc","rmf","rmvb","rtf","rz","s3m","s7z","scpt","sgi","shar","sil","sketch","slk","smv","snk","so","stl","suo","sub","swf","tar","tbz","tbz2","tga","tgz","thmx","tif","tiff","tlz","ttc","ttf","txz","udf","uvh","uvi","uvm","uvp","uvs","uvu","viv","vob","war","wav","wax","wbmp","wdp","weba","webm","webp","whl","wim","wm","wma","wmv","wmx","woff","woff2","wrm","wvx","xbm","xif","xla","xlam","xls","xlsb","xlsm","xlsx","xlt","xltm","xltx","xm","xmind","xpi","xpm","xwd","xz","z","zip","zipx"]')},function(e,t,r){"use strict";const s=r(1),i=r(0),{promisify:n}=r(2);let o;try{o=r(!function(){var e=new Error("Cannot find module 'fsevents'");throw e.code="MODULE_NOT_FOUND",e}())}catch(e){process.env.CHOKIDAR_PRINT_FSEVENTS_REQUIRE_ERROR&&console.error(e)}if(o){const e=process.version.match(/v(\d+)\.(\d+)/);if(e&&e[1]&&e[2]){const t=Number.parseInt(e[1],10),r=Number.parseInt(e[2],10);8===t&&r<16&&(o=void 0)}}const{EV_ADD:a,EV_CHANGE:l,EV_ADD_DIR:c,EV_UNLINK:u,EV_ERROR:h,STR_DATA:d,STR_END:f,FSEVENT_CREATED:p,FSEVENT_MODIFIED:_,FSEVENT_DELETED:g,FSEVENT_MOVED:m,FSEVENT_UNKNOWN:v,FSEVENT_TYPE_FILE:y,FSEVENT_TYPE_DIRECTORY:E,FSEVENT_TYPE_SYMLINK:w,ROOT_GLOBSTAR:b,DIR_SUFFIX:R,DOT_SLASH:A,FUNCTION_TYPE:S,EMPTY_FN:x,IDENTITY_FN:C}=r(8),T=n(s.stat),P=n(s.lstat),O=n(s.realpath),H={stat:T,lstat:P},L=new Map,I=new Set([69888,70400,71424,72704,73472,131328,131840,262912]),k=(e,t)=>({stop:o.watch(e,t)});const N=e=>{let t=0;for(const r of L.keys())if(0===r.indexOf(e)&&(t++,t>=10))return!0;return!1},D=(e,t)=>{let r=0;for(;!e.indexOf(t)&&(e=i.dirname(e))!==t;)r++;return r},M=(e,t)=>e.type===E&&t.isDirectory()||e.type===w&&t.isSymbolicLink()||e.type===y&&t.isFile();e.exports=class{constructor(e){this.fsw=e}checkIgnored(e,t){const r=this.fsw._ignoredPaths;if(this.fsw._isIgnored(e,t))return r.add(e),t&&t.isDirectory()&&r.add(e+b),!0;r.delete(e),r.delete(e+b)}addOrChange(e,t,r,s,i,n,o,c){const u=i.has(n)?l:a;this.handleEvent(u,e,t,r,s,i,n,o,c)}async checkExists(e,t,r,s,i,n,o,a){try{const l=await T(e);if(this.fsw.closed)return;if(this.fsw.closed)return;M(o,l)?this.addOrChange(e,t,r,s,i,n,o,a):this.handleEvent(u,e,t,r,s,i,n,o,a)}catch(l){"EACCES"===l.code?this.addOrChange(e,t,r,s,i,n,o,a):this.handleEvent(u,e,t,r,s,i,n,o,a)}}handleEvent(e,t,r,s,i,n,o,l,h){if(!this.fsw.closed&&!this.checkIgnored(t))if(e===u){const e=l.type===E;(e||n.has(o))&&this.fsw._remove(i,o,e)}else{if(e===a){if(l.type===E&&this.fsw._getWatchedDir(t),l.type===w&&h.followSymlinks){const e=void 0===h.depth?void 0:D(r,s)+1;return this._addToFsEvents(t,!1,!0,e)}this.fsw._getWatchedDir(i).add(o)}const n=l.type===E?e+R:e;this.fsw._emit(n,t),n===c&&this._addToFsEvents(t,!1,!0)}}_watchWithFsEvents(e,t,r,s){if(this.fsw.closed)return;if(this.fsw._isIgnored(e))return;const n=this.fsw.options,a=function(e,t,r,s,n){let a=i.extname(e)?i.dirname(e):e;const l=i.dirname(a);let c=L.get(a);N(l)&&(a=l);const u=i.resolve(e),h=u!==t,d=(e,s,n)=>{h&&(e=e.replace(t,u)),e!==u&&e.indexOf(u+i.sep)||r(e,s,n)};let f=!1;for(const e of L.keys())if(0===t.indexOf(i.resolve(e)+i.sep)){a=e,c=L.get(a),f=!0;break}return c||f?c.listeners.add(d):(c={listeners:new Set([d]),rawEmitter:s,watcher:k(a,(e,t)=>{if(n.closed)return;const r=o.getInfo(e,t);c.listeners.forEach(s=>{s(e,t,r)}),c.rawEmitter(r.event,e,r)})},L.set(a,c)),()=>{const e=c.listeners;if(e.delete(d),!e.size&&(L.delete(a),c.watcher))return c.watcher.stop().then(()=>{c.rawEmitter=c.watcher=void 0,Object.freeze(c)})}}(e,t,async(o,a,l)=>{if(this.fsw.closed)return;if(void 0!==n.depth&&D(o,t)>n.depth)return;const c=r(i.join(e,i.relative(e,o)));if(s&&!s(c))return;const h=i.dirname(c),d=i.basename(c),f=this.fsw._getWatchedDir(l.type===E?c:h);if(I.has(a)||l.event===v)if(typeof n.ignored===S){let e;try{e=await T(c)}catch(e){}if(this.fsw.closed)return;if(this.checkIgnored(c,e))return;M(l,e)?this.addOrChange(c,o,t,h,f,d,l,n):this.handleEvent(u,c,o,t,h,f,d,l,n)}else this.checkExists(c,o,t,h,f,d,l,n);else switch(l.event){case p:case _:return this.addOrChange(c,o,t,h,f,d,l,n);case g:case m:return this.checkExists(c,o,t,h,f,d,l,n)}},this.fsw._emitRaw,this.fsw);return this.fsw._emitReady(),a}async _handleFsEventsSymlink(e,t,r,s){if(!this.fsw.closed&&!this.fsw._symlinkPaths.has(t)){this.fsw._symlinkPaths.set(t,!0),this.fsw._incrReadyCount();try{const t=await O(e);if(this.fsw.closed)return;if(this.fsw._isIgnored(t))return this.fsw._emitReady();this.fsw._incrReadyCount(),this._addToFsEvents(t||e,s=>{let n=e;return t&&t!==A?n=s.replace(t,e):s!==A&&(n=i.join(e,s)),r(n)},!1,s)}catch(e){if(this.fsw._handleError(e))return this.fsw._emitReady()}}}emitAdd(e,t,r,s,n){const o=r(e),l=t.isDirectory(),u=this.fsw._getWatchedDir(i.dirname(o)),h=i.basename(o);l&&this.fsw._getWatchedDir(o),u.has(h)||(u.add(h),s.ignoreInitial&&!0!==n||this.fsw._emit(l?c:a,o,t))}initWatch(e,t,r,s){if(this.fsw.closed)return;const n=this._watchWithFsEvents(r.watchPath,i.resolve(e||r.watchPath),s,r.globFilter);this.fsw._addPathCloser(t,n)}async _addToFsEvents(e,t,r,s){if(this.fsw.closed)return;const n=this.fsw.options,o=typeof t===S?t:C,a=this.fsw._getWatchHelpers(e);try{const t=await H[a.statMethod](a.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(a.watchPath,t))throw null;if(t.isDirectory()){if(a.globFilter||this.emitAdd(o(e),t,o,n,r),s&&s>n.depth)return;this.fsw._readdirp(a.watchPath,{fileFilter:e=>a.filterPath(e),directoryFilter:e=>a.filterDir(e),...(l=n.depth-(s||0),isNaN(l)?{}:{depth:l})}).on(d,e=>{if(this.fsw.closed)return;if(e.stats.isDirectory()&&!a.filterPath(e))return;const t=i.join(a.watchPath,e.path),{fullPath:s}=e;if(a.followSymlinks&&e.stats.isSymbolicLink()){const e=void 0===n.depth?void 0:D(t,i.resolve(a.watchPath))+1;this._handleFsEventsSymlink(t,s,o,e)}else this.emitAdd(t,e.stats,o,n,r)}).on(h,x).on(f,()=>{this.fsw._emitReady()})}else this.emitAdd(a.watchPath,t,o,n,r),this.fsw._emitReady()}catch(e){e&&!this.fsw._handleError(e)||(this.fsw._emitReady(),this.fsw._emitReady())}var l;if(n.persistent&&!0!==r)if(typeof t===S)this.initWatch(void 0,e,a,o);else{let t;try{t=await O(a.watchPath)}catch(e){}this.initWatch(t,e,a,o)}}},e.exports.canUse=()=>o&&L.size<128},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(49).__importStar(r(50)),i=r(51),n=r(22);var o=r(22);t.TimeoutError=o.TimeoutError;class a extends i.PromiseDuplex{constructor(e=new s.Socket){super(e),this.socket=e}connect(e,t){const r=this.stream;return new Promise((s,i)=>{if(this.readable._errored){const e=this.readable._errored;this.readable._errored=void 0,i(e)}if(this.writable._errored){const e=this.writable._errored;this.writable._errored=void 0,i(e)}const n=()=>{r.removeListener("error",o),s()},o=e=>{this.readable._errored=void 0,this.writable._errored=void 0,r.removeListener("connect",n),i(e)};r.once("error",o),void 0!==t?r.connect(e,t,n):r.connect(e,n)})}setTimeout(e){const t=this.stream;0===e?this.timeoutHandler&&(t.removeListener("timeout",this.timeoutHandler),this.timeoutHandler=void 0):this.timeoutHandler||(this.timeoutHandler=()=>{this.timeoutHandler=void 0,t.destroy(new n.TimeoutError)},t.once("timeout",this.timeoutHandler)),t.setTimeout(e)}}t.PromiseSocket=a,t.default=a},function(e,t,r){"use strict";r.r(t),r.d(t,"__extends",(function(){return i})),r.d(t,"__assign",(function(){return n})),r.d(t,"__rest",(function(){return o})),r.d(t,"__decorate",(function(){return a})),r.d(t,"__param",(function(){return l})),r.d(t,"__metadata",(function(){return c})),r.d(t,"__awaiter",(function(){return u})),r.d(t,"__generator",(function(){return h})),r.d(t,"__exportStar",(function(){return d})),r.d(t,"__values",(function(){return f})),r.d(t,"__read",(function(){return p})),r.d(t,"__spread",(function(){return _})),r.d(t,"__spreadArrays",(function(){return g})),r.d(t,"__await",(function(){return m})),r.d(t,"__asyncGenerator",(function(){return v})),r.d(t,"__asyncDelegator",(function(){return y})),r.d(t,"__asyncValues",(function(){return E})),r.d(t,"__makeTemplateObject",(function(){return w})),r.d(t,"__importStar",(function(){return b})),r.d(t,"__importDefault",(function(){return R}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var n=function(){return(n=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(r[s[i]]=e[s[i]])}return r}function a(e,t,r,s){var i,n=arguments.length,o=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(n<3?i(o):n>3?i(t,r,o):i(t,r))||o);return n>3&&o&&Object.defineProperty(t,r,o),o}function l(e,t){return function(r,s){t(r,s,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,r,s){return new(r||(r=Promise))((function(i,n){function o(e){try{l(s.next(e))}catch(e){n(e)}}function a(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(o,a)}l((s=s.apply(e,t||[])).next())}))}function h(e,t){var r,s,i,n,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function a(n){return function(a){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,s&&(i=2&n[0]?s.return:n[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,n[1])).done)return i;switch(s=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return o.label++,{value:n[1],done:!1};case 5:o.label++,s=n[1],n=[0];continue;case 7:n=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){o=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){o.label=n[1];break}if(6===n[0]&&o.label<i[1]){o.label=i[1],i=n;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(n);break}i[2]&&o.ops.pop(),o.trys.pop();continue}n=t.call(e,o)}catch(e){n=[6,e],s=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}}function d(e,t){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}function f(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}function p(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var s,i,n=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(e){i={error:e}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return o}function _(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function g(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var s=Array(e),i=0;for(t=0;t<r;t++)for(var n=arguments[t],o=0,a=n.length;o<a;o++,i++)s[i]=n[o];return s}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function v(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,i=r.apply(e,t||[]),n=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(e){i[e]&&(s[e]=function(t){return new Promise((function(r,s){n.push([e,t,r,s])>1||a(e,t)}))})}function a(e,t){try{(r=i[e](t)).value instanceof m?Promise.resolve(r.value.v).then(l,c):u(n[0][2],r)}catch(e){u(n[0][3],e)}var r}function l(e){a("next",e)}function c(e){a("throw",e)}function u(e,t){e(t),n.shift(),n.length&&a(n[0][0],n[0][1])}}function y(e){var t,r;return t={},s("next"),s("throw",(function(e){throw e})),s("return"),t[Symbol.iterator]=function(){return this},t;function s(s,i){t[s]=e[s]?function(t){return(r=!r)?{value:m(e[s](t)),done:"return"===s}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=f(e),t={},s("next"),s("throw"),s("return"),t[Symbol.asyncIterator]=function(){return this},t);function s(r){t[r]=e[r]&&function(t){return new Promise((function(s,i){(function(e,t,r,s){Promise.resolve(s).then((function(t){e({value:t,done:r})}),t)})(s,i,(t=e[r](t)).done,t.value)}))}}}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function R(e){return e&&e.__esModule?e:{default:e}}},function(e,t){e.exports=require("net")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(18);const s=r(68),i=r(69);class n extends s.PromiseReadable{constructor(e){super(e),this.stream=e,this.isPromiseReadable=!0,this.isPromiseWritable=!0,this.readable=new s.PromiseReadable(e),this.writable=new i.PromiseWritable(e)}read(e){return this.readable.read(e)}readAll(){return this.readable.readAll()}setEncoding(e){return this.readable.setEncoding(e),this}iterate(e){return this.readable.iterate(e)}[Symbol.asyncIterator](){return this.readable[Symbol.asyncIterator]()}write(e,t){return this.writable.write(e,t)}writeAll(e,t){return this.writable.writeAll(e,t)}end(){return this.writable.end()}once(e){const t=this.stream;return new Promise((r,s)=>{if(this.readable._errored){const e=this.readable._errored;return this.readable._errored=void 0,s(e)}if(this.writable._errored){const e=this.writable._errored;return this.writable._errored=void 0,s(e)}if(t.closed)return"close"===e?r():s(new Error(`once ${e} after close`));if(t.destroyed)return"close"===e||"end"===e||"finish"===e?r():s(new Error(`once ${e} after destroy`));const i="end"!==e&&"finish"!==e&&"error"!==e?e=>{c(),r(e)}:void 0,n=()=>{c(),r()},o="close"!==e?()=>{c(),r()}:void 0,a=e=>{this.readable._errored=void 0,this.writable._errored=void 0,c(),s(e)},l="close"!==e?()=>{c(),r()}:void 0,c=()=>{i&&t.removeListener(e,i),t.removeListener("close",n),o&&t.removeListener("end",o),t.removeListener("error",a),l&&t.removeListener("finish",l)};i&&t.on(e,i),t.on("close",n),o&&t.on("end",o),l&&t.on("finish",l),t.on("error",a)})}destroy(){this.readable&&this.readable.destroy(),this.writable&&this.writable.destroy()}}t.PromiseDuplex=n,t.default=n},function(e,t,r){var s=r(53),i=r(19),n=r(54),o=r(20).f;e.exports=function(e){var t=s.Symbol||(s.Symbol={});i(t,e)||o(t,e,{value:n.f(e)})}},function(e,t,r){var s=r(3);e.exports=s},function(e,t,r){var s=r(55);t.f=s},function(e,t,r){var s=r(3),i=r(56),n=r(19),o=r(66),a=r(21),l=r(67),c=i("wks"),u=s.Symbol,h=l?u:u&&u.withoutSetter||o;e.exports=function(e){return n(c,e)||(a&&n(u,e)?c[e]=u[e]:c[e]=h("Symbol."+e)),c[e]}},function(e,t,r){var s=r(57),i=r(58);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:s?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!1},function(e,t,r){var s=r(3),i=r(59),n=s["__core-js_shared__"]||i("__core-js_shared__",{});e.exports=n},function(e,t,r){var s=r(3),i=r(60);e.exports=function(e,t){try{i(s,e,t)}catch(r){s[e]=t}return t}},function(e,t,r){var s=r(9),i=r(20),n=r(65);e.exports=s?function(e,t,r){return i.f(e,t,n(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var s=r(9),i=r(10),n=r(62);e.exports=!s&&!i((function(){return 7!=Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var s=r(3),i=r(11),n=s.document,o=i(n)&&i(n.createElement);e.exports=function(e){return o?n.createElement(e):{}}},function(e,t,r){var s=r(11);e.exports=function(e){if(!s(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,r){var s=r(11);e.exports=function(e,t){if(!s(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!s(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!s(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!s(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var r=0,s=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+s).toString(36)}},function(e,t,r){var s=r(21);e.exports=s&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(18);class s{constructor(e){this.stream=e,this._isPromiseReadable=!0,this.errorHandler=e=>{this._errored=e},e.on("error",this.errorHandler)}static[Symbol.hasInstance](e){return e._isPromiseReadable}read(e){const t=this.stream;return new Promise((r,s)=>{if(this._errored){const e=this._errored;return this._errored=void 0,s(e)}if(!t.readable||t.closed||t.destroyed)return r();const i=()=>{const s=t.read(e);null!==s&&(l(),r(s))},n=()=>{l(),r()},o=()=>{l(),r()},a=e=>{this._errored=void 0,l(),s(e)},l=()=>{t.removeListener("close",n),t.removeListener("error",a),t.removeListener("end",o),t.removeListener("readable",i)};t.on("close",n),t.on("end",o),t.on("error",a),t.on("readable",i),i()})}readAll(){const e=this.stream,t=[];let r="";return new Promise((s,i)=>{if(this._errored){const e=this._errored;return this._errored=void 0,i(e)}if(!e.readable||e.closed||e.destroyed)return s();const n=e=>{"string"==typeof e?r+=e:t.push(e)},o=()=>{c(),s()},a=()=>{c(),t.length?s(Buffer.concat(t)):s(r)},l=e=>{this._errored=void 0,c(),i(e)},c=()=>{e.removeListener("close",o),e.removeListener("data",n),e.removeListener("error",l),e.removeListener("end",a)};e.on("close",o),e.on("data",n),e.on("end",a),e.on("error",l),e.resume()})}setEncoding(e){return this.stream.setEncoding(e),this}once(e){const t=this.stream;return new Promise((r,s)=>{if(this._errored){const e=this._errored;return this._errored=void 0,s(e)}if(t.closed)return"close"===e?r():s(new Error(`once ${e} after close`));if(t.destroyed)return"close"===e||"end"===e?r():s(new Error(`once ${e} after destroy`));const i="close"!==e&&"end"!==e&&"error"!==e?e=>{a(),r(e)}:void 0,n="close"!==e?()=>{a(),r()}:void 0,o=e=>{this._errored=void 0,a(),s(e)},a=()=>{i&&t.removeListener(e,i),t.removeListener("error",o),n&&t.removeListener("end",n),t.removeListener("error",o)};i&&t.on(e,i),t.on("close",()=>{a(),r()}),n&&t.on("end",n),t.on("error",o)})}iterate(e){const t=this;let r=!1;return{[Symbol.asyncIterator](){return this},next:()=>r?Promise.resolve({value:"",done:!0}):t.read(e).then(e=>void 0===e?(r=!0,{value:"",done:!0}):{value:e,done:!1})}}[Symbol.asyncIterator](){return this.iterate()}destroy(){this.stream&&(this.stream.removeListener("error",this.errorHandler),"function"==typeof this.stream.destroy&&this.stream.destroy())}}t.PromiseReadable=s,t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s{constructor(e){this.stream=e,this._isPromiseWritable=!0,this.errorHandler=e=>{this._errored=e},e.on("error",this.errorHandler)}static[Symbol.hasInstance](e){return e._isPromiseWritable}write(e,t){const r=this.stream;let s=!1;return new Promise((i,n)=>{if(this._errored){const e=this._errored;return this._errored=void 0,n(e)}if(!r.writable||r.closed||r.destroyed)return n(new Error("write after end"));const o=e=>{this._errored=void 0,s=!0,n(e)};r.once("error",o);const a="string"==typeof e?r.write(e,t):r.write(e);if(r.removeListener("error",o),a)s||i(e.length);else{const t=e=>{this._errored=void 0,l(),n(e)},s=()=>{l(),i(e.length)},o=()=>{l(),i(e.length)},a=()=>{l(),i(e.length)},l=()=>{r.removeListener("close",o),r.removeListener("drain",s),r.removeListener("error",t),r.removeListener("finish",a)};r.on("close",o),r.on("drain",s),r.on("error",t),r.on("finish",a)}})}writeAll(e,t=65536){const r=this.stream;return new Promise((s,i)=>{if(this._errored){const e=this._errored;return this._errored=void 0,i(e)}if(!r.writable||r.closed||r.destroyed)return i(new Error("writeAll after end"));let n=0;const o=()=>{u(),s(r.bytesWritten||0)},a=()=>{for("function"==typeof r.cork&&r.cork();r.writable&&!this._errored&&n*t<e.length;){const o=e.slice(n*t,++n*t);if(n*t>=e.length){r.write(o,e=>{e?i(e):s(r.bytesWritten)});break}if(!r.write(o))break}"function"==typeof r.uncork&&r.uncork()},l=e=>{this._errored=void 0,u(),i(e)},c=()=>{u(),s(r.bytesWritten||0)},u=()=>{r.removeListener("close",o),r.removeListener("drain",a),r.removeListener("error",l),r.removeListener("finish",c)};r.on("drain",a),r.on("close",o),r.on("finish",c),r.on("error",l),a()})}once(e){const t=this.stream;return new Promise((r,s)=>{if(this._errored){const e=this._errored;return this._errored=void 0,s(e)}if(this._errored)return s(this._errored);if(t.closed)return"close"===e?r():s(new Error(`once ${e} after close`));if(t.destroyed)return"close"===e||"finish"===e?r():s(new Error(`once ${e} after destroy`));const i=()=>{l(),r()},n="close"!==e&&"finish"!==e&&"error"!==e?e=>{l(),r(e)}:void 0,o=e=>{this._errored=void 0,l(),s(e)},a="close"!==e?()=>{l(),r()}:void 0,l=()=>{n&&t.once(e,n),t.removeListener("close",i),t.removeListener("error",o),a&&t.removeListener("finish",a)};n&&t.on(e,n),t.on("close",i),t.on("error",o),a&&t.on("finish",a)})}end(){const e=this.stream;return new Promise((t,r)=>{if(this._errored){const e=this._errored;return this._errored=void 0,r(e)}if(!e.writable||e.closed||e.destroyed)return t();const s=()=>{n(),t()},i=e=>{this._errored=void 0,n(),r(e)},n=()=>{e.removeListener("error",i),e.removeListener("finish",s)};e.on("finish",s),e.on("error",i),e.end()})}destroy(){this.stream&&(this.stream.removeListener("error",this.errorHandler),"function"==typeof this.stream.destroy&&this.stream.destroy())}}t.PromiseWritable=s,t.default=s},function(e,t,r){"use strict";var s=this&&this.__awaiter||function(e,t,r,s){return new(r||(r=Promise))((function(i,n){function o(e){try{l(s.next(e))}catch(e){n(e)}}function a(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(12),n=r(13),o=r(23);var a;!function(e){e[e.InputActions=0]="InputActions",e[e.NodePaths=1]="NodePaths",e[e.ResourcePaths=2]="ResourcePaths",e[e.ScenePaths=3]="ScenePaths",e[e.ShaderParams=4]="ShaderParams",e[e.Signals=5]="Signals",e[e.ThemeColors=6]="ThemeColors",e[e.ThemeConstants=7]="ThemeConstants",e[e.ThemeFonts=8]="ThemeFonts",e[e.ThemeStyles=9]="ThemeStyles"}(a||(a={}));const l=/(?:((?!\d)\w+(?:[\n\r\s]*\.[\n\r\s]*(?!\d)\w+)*)[\n\r\s]*\.[\n\r\s]*)?((?!\d)\w+)/,c=new RegExp("(?:[\\n\\r\\s]*<[\\n\\r\\s]*"+l.source+"[\\n\\r\\s]*>)?"),u=new RegExp(/\bGetNode/.source+c.source+/[\n\r\s]*\([\n\r\s]*(?<withQuote>"(?<partialString>\w*))?$/.source),h=/\b(IsActionPressed|IsActionJustPressed|IsActionJustReleased|GetActionStrength|ActionPress|ActionRelease)[\n\r\s]*\([\n\r\s]*(?<withQuote>"(?<partialString>\w*))?$/,d=new RegExp(/\b(GD[\n\r\s]*\.[\n\r\s]*Load|ResourceLoader[\n\r\s]*\.[\n\r\s]*Load)/.source+c.source+/[\n\r\s]*\([\n\r\s]*(?<withQuote>"(?<partialString>\w*))?/.source),f=/\bChangeScene[\n\r\s]*\([\n\r\s]*(?<withQuote>"(?<partialString>\w*))?/,p=/\b(Connect|Disconnect|IsConnected|EmitSignal)[\n\r\s]*\([\n\r\s]*(?<withQuote>"(?<partialString>\w*))?$/,_=new RegExp(/\bToSignal[\n\r\s]*\([\n\r\s]*/.source+l.source+/[\n\r\s]*,[\n\r\s]*(?<withQuote>"(?<partialString>\w*))?$/.source);t.GodotCompletionProvider=class{constructor(e){this.client=e}getPrefixLines(e,t){let r="";t.line>1&&(r+=e.lineAt(t.line-2).text+"\n"),t.line>0&&(r+=e.lineAt(t.line-1).text+"\n");let s=r.length;return r+=e.lineAt(t.line).text,[r,s+t.character]}provideCompletionItems(e,t,r,s){var i,n;if(!this.client.isConnected()||null!==(n=!(null===(i=this.client.peer)||void 0===i?void 0:i.isConnected))&&void 0!==n&&n)return;let l=o.fixPathForGodot(e.uri.fsPath),[c,g]=this.getPrefixLines(e,t),m=c.substr(0,g),v=c.substr(g),y=(e,t)=>this.genericStringItemImpl(e,t,l,r,s,m,v);return y(u,a.NodePaths)||y(h,a.InputActions)||y(d,a.ResourcePaths)||y(f,a.ScenePaths)||y([p,_],a.Signals)||void 0}genericStringItemImpl(e,t,r,o,a,l,c){var u;let h,d=!1,f=!1,p=!1,_="";e instanceof RegExp&&(e=[e]);for(let t in e)if(h=l.match(e[t])){d=!0,void 0!==(null===(u=h.groups)||void 0===u?void 0:u.withQuote)&&(f=!0,p=c.startsWith('"'),_=h.groups.partialString||"");break}if(d)return new Promise((e,o)=>s(this,void 0,void 0,(function*(){var s;let a={Kind:t,ScriptFile:r};const l=yield null===(s=this.client.peer)||void 0===s?void 0:s.sendRequest("CodeCompletion",JSON.stringify(a));if(void 0===l||l.status!==n.MessageStatus.Ok)return l?console.error("Code completion request failed with status: "+(null==l?void 0:l.status)):console.error("Code completion request failed"),void o();let c=JSON.parse(l.body).Suggestions;e(c.filter(e=>e.startsWith('"'+_)).map(e=>{let t=new i.CompletionItem(e,i.CompletionItemKind.Value);var r;return t.insertText=(r=e,f&&r.startsWith('"')?r.substr(1,r.length-(p?2:1)):r),t}))})))}}}]);
//# sourceMappingURL=extension.bundled.js.map